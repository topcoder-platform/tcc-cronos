<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">
    <bean id="loginAction" class="com.topcoder.web.reg.actions.basic.LoginAction" init-method="checkConfiguration">
        <property name="lastRequestedURIParameterName" value="lastRequestedURI"/>
        <property name="userDAO" ref="userDAO"/>
        <property name="loginRemote" ref="loginRemote"/>
        <property name="operationType" value="login"/>
        <property name="auditDAO" ref="auditDAO"/>
    </bean>
    <bean id="logoutAction" class="com.topcoder.web.reg.actions.basic.LogoutAction" init-method="checkConfiguration">
        <property name="operationType" value="logout"/>
        <property name="auditDAO" ref="auditDAO"/>
    </bean>
    <bean id="recoverPasswordAction" class="com.topcoder.web.reg.actions.basic.RecoverPasswordAction"
          init-method="checkConfiguration">
        <property name="emailBodyTemplateFilePath" value="mailBodyTemplate.txt"/>
        <property name="emailSubject" value="Reset password e-mail for your account on TopCoder web-site"/>
        <property name="emailFromAddress" value="test@tc.com"/>
        <property name="resetPasswordLinkTemplate">
            <value><![CDATA[http://localhost/resetPassword?passwordRecoveryId=%passwordRecoveryId%&hashCode=%hashCode%]]></value>
        </property>
        <property name="userDAO" ref="userDAO"/>
        <property name="passwordRecoveryExpiration" value="5"/>
        <property name="operationType" value="recoverPassword"/>
        <property name="auditDAO" ref="auditDAO"/>
        <property name="passwordRecoveryDAO" ref="passwordRecoveryDAO"/>
    </bean>
    <bean id="resendPasswordRecoveryEmailAction"
          class="com.topcoder.web.reg.actions.basic.ResendPasswordRecoveryEmailAction" init-method="checkConfiguration">
        <property name="emailBodyTemplateFilePath" value="mailBodyTemplate.txt"/>
        <property name="emailSubject" value="Reset password e-mail for your account on TopCoder web-site"/>
        <property name="emailFromAddress" value="test@tc.com"/>
        <property name="resetPasswordLinkTemplate">
            <value><![CDATA[http://localhost/resetPassword?passwordRecoveryId=%passwordRecoveryId%&hashCode=%hashCode%]]></value>
        </property>
        <property name="userDAO" ref="userDAO"/>
        <property name="operationType" value="resendPasswordRecoveryEmail"/>
        <property name="auditDAO" ref="auditDAO"/>
        <property name="passwordRecoveryDAO" ref="passwordRecoveryDAO"/>
    </bean>
    <bean id="resetPasswordAction" class="com.topcoder.web.reg.actions.basic.ResetPasswordAction"
          init-method="checkConfiguration">
        <!--This should be set to the same value as the existing website-->
        <property name="minimalPasswordLength" value="6"/>
        <property name="userDAO" ref="userDAO"/>
        <property name="principalMgrRemote" ref="principalMgrRemote"/>
        <property name="operationType" value="resetPassword"/>
        <property name="auditDAO" ref="auditDAO"/>
        <!--This should be set to the same value as the existing website-->
        <property name="maximalPasswordLength" value="20"/>
        <property name="passwordRecoveryDAO" ref="passwordRecoveryDAO"/>
    </bean>
    <bean id="authorizationInterceptor" class="com.topcoder.web.reg.interceptors.AuthorizationInterceptor"
          init-method="checkConfiguration">
    </bean>
    <bean id="throttleInterceptor" class="com.topcoder.web.reg.interceptors.ThrottleInterceptor"
          init-method="checkConfiguration">                
    </bean>

    <!--Note that the configuration of DAO and EJB are omitted in this sample configuration file.-->
</beans>