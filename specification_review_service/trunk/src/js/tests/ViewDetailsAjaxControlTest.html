<!--
/*
 * Copyright (C) 2010 TopCoder Inc., All Rights Reseved.
 *
 * Transaction Assessment View Details 1.0.0
 *
 * ViewDetailsAjaxControl Demo
 * Author: caru, TCSDEVELOPER
 * Version: 1.0
 */
-->
<html>
<head>
<title>ViewDetailsAjaxControl Test</title>
<script type="text/javascript" src="../main/ViewDetailsAjaxControl.js"></script>
<script type="text/javascript">
/**
 * <p>
 * Demonstrate usage of the ViewDetailsAjaxControl class.
 * </p>
 */
function runDemo() {
    // Create a new instance of the control
    var control = new ViewDetailsAjaxControl();

    // Set the HTML generation data properties
    control.preTableHtmlString = "<table>";
    control.postTableHtmlString = "</table>";
    control.preRowHtmlString = "<tr>";
    control.postRowHtmlString = "</tr>";
    control.preDataHtmlString = "<td>";
    control.postDataHtmlString = "</td>";

    // Set the table header. Note that this should match the order of the columns array set below
    control.tableHeaderHtmlString = "<tr><th>Account Year</th> <th>Client ID</th> <th>Name</th>";
    control.tableHeaderHtmlString += "<th>Country</th> <th>Cust. No.</th> <th>Channel ID</th>";
    control.tableHeaderHtmlString += "<th>Channel Desc.</th> <th>Div. Code</th> <th>Brand Name</th>";
    control.tableHeaderHtmlString += "<th>Achvmt. Amt.</th></tr>";

    // Set the columns to be displayed from the resulting JSON data
    control.columns = [
        "accountYear", "clientIDKey", "customerName", "customerCountry", "customerNumber",
        "channelID", "channelDescription", "businessMeasurementDivisionCode", "brandName",
        "recognizedAchievementAmount"
    ];

    // Send the AJAX request
    var transactionId = 1;
    var achievementPostingMonth = "01";
    var transactionNumber = 2;
    var prototypeElementId = "prototypeElement";

    // Make use of this servlet address for Firefox or Opera if testing from your filesystem
    var servletAddress = "../../../test_files/servletResponse.txt";

    // Make use of this servlet address if testing and the HTML page is accessed through the same host
    // You will need to set up a working servlet accordingly
    //var servletAddress = "http://localhost/servletResponse";

    control.sendRequest(
        transactionId, achievementPostingMonth, transactionNumber, prototypeElementId, servletAddress);
}
</script>
</head>
<body>
<div id="prototypeElement" style="width: 800px; height: 300px; overflow: auto; border: 1px solid #ccc">

</div>
<a href="#" onclick="javascript:runDemo(); return false;">Run Demo</a>
</body>
</html>