<!--
/*
 * Copyright (C) 2008 TopCoder Inc., All Rights Reserved.
 */

/**
 * Unit test cases for Submission class.
 *
 * @author pinoydream
 * @version 1.0
 */
-->
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Submission - Unit Tests</title>
        <link rel="stylesheet" type="text/css" href="../../../../../../../test_files/jsunit/css/jsUnitStyle.css" />
        <script language="JavaScript" type="text/javascript" src="../../../../../../../test_files/jsunit/app/jsUnitCore.js"></script>
        <script language="JavaScript" type="text/javascript" src="../../../../../main/js/topcoder/widgets/bridge/WidgetBridgeNamespace.js">
        </script>
        <script language="JavaScript" type="text/javascript" src="../../../../../main/js/topcoder/widgets/bridge/Submission.js">
        </script>
        <script language="JavaScript" type="text/javascript">
            /** 
             * The Submission instance.
             */
            var instance = null;
            
            /**
             * Valid JSON.
             */
            var validJSON = 
				"{ \"submissionID\" : 1234, \"submitterID\" : 321, \"submissionTimeStamp\" : \"2008-03-04 09:00\" , \"submissionContent\" : \"content\" , "+
				"\"contestID\" : 9999, \"passedScreening\" : true, \"passedReview\" : true, \"placement\" : 3, \"paidFor\" : true, \"price\" : 4443332,"+
				" \"markedForPurchase\" : true, \"removed\" : true}";

            /**
             * Invalid JSON.
             */
            var invalidJSON = "{\"z\" : 123}";
				

            /**
             * setUp. Creates the Submission instance.
             */
            function setUp() {
                instance = new js.topcoder.widgets.bridge.Submission();
            }

            /**
             * Test the constructor whether it is instantiating properly.
             */
            function test_Constructor_Instantiation() {
                assertNotNull("Unable to instantiate Submission.", instance);
            }

            /**
             * Test private variable submissionID.
             */
            function test_submissionID() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.submissionID));
            }

            /**
             * Test private variable submitterID.
             */
            function test_submitterID() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.submitterID));
            }

            /**
             * Test private variable submissionTimeStamp.
             */
            function test_submissionTimeStamp() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.submissionTimeStamp));
            }

            /**
             * Test private variable submissionContent.
             */
            function test_submissionContent() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.submissionContent));
            }

            /**
             * Test private variable contestID.
             */
            function test_contestID() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.contestID));
            }

            /**
             * Test private variable passedScreening.
             */
            function test_passedScreening() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.passedScreening));
            }

            /**
             * Test private variable passedReview.
             */
            function test_passedReview() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.passedReview));
            }

            /**
             * Test private variable placement.
             */
            function test_placement() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.placement));
            }

            /**
             * Test private variable paidFor.
             */
            function test_paidFor() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.paidFor));
            }

            /**
             * Test private variable price.
             */
            function test_price() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.price));
            }

            /**
             * Test private variable markedForPurchase.
             */
            function test_markedForPurchase() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.markedForPurchase));
            }

            /**
             * Test private variable removed.
             */
            function test_removed() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.removed));
            }

            /**
             * Tests Contructor with valid JSON for accuracy.
             */
            function test_Contructor_validJSON() {
            	var json = eval("(" + validJSON + ")");
            	try {
            		var jsonObj = new js.topcoder.widgets.bridge.Submission(json);
            		assertNotNull("Unable to instantiate Submission.", jsonObj);
            	} catch(x) {
            		fail("There should be no exception generated");
            	}
            }

            /**
             * Tests Contructor with invalid JSON for accuracy.
             */
            function test_Contructor_invalidJSON() {
            	var json = eval("(" + invalidJSON + ")");
            	try {
            		var jsonObj = new js.topcoder.widgets.bridge.Submission(json);
            		fail("There should be an exception generated");
            	} catch(x) {
            		// expected
            	}
            }

            /**
             * Tests toJSON method for accuracy.
             */
            function test_toJSON() {
            	var json = eval("(" + validJSON + ")");

           		var jsonObj = new js.topcoder.widgets.bridge.Submission(json);
           		assertEquals("JSON string should be equal with the json passed in constructor.", validJSON, jsonObj.toJSON());
            }

            /**
             * Tears down. Sets the instance value to null.
             */
            function tearDown() {
                instance = null;
            }
        </script>
    </head>
    <body>
        <h1>Submission - Unit Tests</h1>
        <p>This page contains unit tests for the js Class Submission. To see them, take a look at the source.</p>
    </body>
</html>
