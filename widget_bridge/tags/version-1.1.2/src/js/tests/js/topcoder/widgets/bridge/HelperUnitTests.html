<!--
/*
* Copyright (C) 2008 TopCoder Inc., All Rights Reserved.
*/
/**
* Unit test cases for Helper class.
*
* @author TCSDEVELOPER
* @version 1.0
*/
-->
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Helper - Unit Tests</title>
        <link rel="stylesheet" type="text/css" href="../../../../../../../test_files/jsunit/css/jsUnitStyle.css" />
        <script language="JavaScript" type="text/javascript" src="../../../../../../../test_files/jsunit/app/jsUnitCore.js">
        </script>
        <script language="JavaScript" type="text/javascript" src="../../../../../main/js/topcoder/widgets/bridge/WidgetBridgeNamespace.js">
        </script>
        <script language="JavaScript" type="text/javascript" src="../../../../../main/js/topcoder/widgets/bridge/IllegalArgumentException.js">
        </script>
        <script language="JavaScript" type="text/javascript" src="../../../../../main/js/topcoder/widgets/bridge/Helper.js">
        </script>
        <script language="JavaScript" type="text/javascript">
            /**
             * abbreviation for Helper
             */
            var Helper = js.topcoder.widgets.bridge.Helper;

            /**
             * abbreviation for IllegalArgumentException
             */
            var IllegalArgumentException = js.topcoder.widgets.bridge.IllegalArgumentException;

            /**
             * <p>Test of checkDefined method. A normal test with no exception.</p>
             */
            function testCheckDefined(){
                Helper.checkDefined("string", "str test", "string");
                //ok
            }

            /**
             * <p>Test of checkDefined method. With invalid value.</p>
             */
            function testCheckDefinedWithInvalidValue(){
                try {
                    Helper.checkDefined("string", "str test", "number");
                    fail("it should fail");
                }
                catch (e) {
                    assertTrue("it should fail", e instanceof IllegalArgumentException);
                }
            }

            /**
             * <p>Test of checkDefined method. null is not allowed by default.
             * Throws Exception.</p>
             */
            function testCheckDefinedWithNullValue1(){
                try {
                    Helper.checkDefined(null, "null test", "string");
                    fail("it should fail");
                }
                catch (e) {
                    assertTrue("it should fail", e instanceof IllegalArgumentException);
                }
            }

            /**
             * <p>Test of checkDefined method. null is allowed so no exception
             * will be thrown here.</p>
             */
            function testCheckDefinedWithWithNullValue2(){
                Helper.checkDefined(null, "null test", "string", true);
                //ok
            }

            /**
             * <p>Test of checkGreaterOrEqual method.</p>
             */
            function testCheckGreaterOrEqual(){
                Helper.checkGreaterOrEqual(1, "test value", 0);
                //ok
            }

            /**
             * <p>Test of checkGreaterOrEqual method. A non-number value is passed and
             * an exception should be thrown.</p>
             */
            function testCheckGreaterOrEqualWithNonNumberValue(){
                try {
                    Helper.checkGreaterOrEqual(1, "test value", 0);
                    fail("it should fail");
                }
                catch (e) {
                    assertTrue("it should fail", e instanceof IllegalArgumentException);
                }
            }

            /**
             * <p>Test of checkGreaterOrEqual method. A number is passed which is smaller than expected and
             * an exception should be thrown.</p>
             */
            function testCheckGreaterOrEqualWithNonNumberValue(){
                try {
                    Helper.checkGreaterOrEqual(-1, "test value", 0);
                    fail("it should fail");
                }
                catch (e) {
                    assertTrue("it should fail", e instanceof IllegalArgumentException);
                }
            }

            /**
             * <p>Test of of <code>checkString</code>.
             * No exception is expected.</p>
             */
            function testCheckString(){
                Helper.checkString("str", "str");
                //ok
            }

            /**
             * <p>Test of of <code>checkString</code> with empty <code>string</code> after trim.
             * <code>IllegalArgumentException</code> is expected.</p>
             */
            function testCheckStringWithEmptyString(){
                try {
                    Helper.checkString("  ", "str");
                    fail("it should fail.");
                }
                catch (e) {
                    assertTrue("it should fail", e instanceof IllegalArgumentException);
                }
            }

            /**
             * <p>Test of of <code>checkString</code> with non-string <code>string</code>.
             * <code>IllegalArgumentException</code> is expected.</p>
             */
            function testCheckStringWithNonStringString(){
                try {
                    Helper.checkString(null, "");
                    fail("it should fail.");
                }
                catch (e) {
                    assertTrue("it should fail", e instanceof IllegalArgumentException);
                }

                try {
                    Helper.checkString(0, "");
                    fail("it should fail.");
                }
                catch (e) {
                    assertTrue("it should fail", e instanceof IllegalArgumentException);
                }

                try {
                    var undefined;
                    Helper.checkString(undefined, "");
                    fail("it should fail.");
                }
                catch (e) {
                    assertTrue("it should fail", e instanceof IllegalArgumentException);
                }

            }

            /**
             * <p>Test of trim method. </p>
             */
            function testTrim(){
                var str = "  aa  ";
                assertEquals("the string is not trimmed correctly.", "aa", Helper.trim(str));
            }
        </script>
    </head>
    <body>
        <h1>Helper - Unit Tests</h1>
        <p>
            This page contains unit tests for the js Class Helper. To see them, take a look at the source.
        </p>
    </body>
</html>
