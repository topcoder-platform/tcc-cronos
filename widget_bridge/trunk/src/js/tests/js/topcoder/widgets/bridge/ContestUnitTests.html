<!--
/*
 * Copyright (C) 2008 TopCoder Inc., All Rights Reserved.
 */

/**
 * Unit test cases for Contest class.
 *
 * @author pinoydream
 * @version 1.0
 */
-->
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Contest - Unit Tests</title>
        <link rel="stylesheet" type="text/css" href="../../../../../../../test_files/jsunit/css/jsUnitStyle.css" />
        <script language="JavaScript" type="text/javascript" src="../../../../../../../test_files/jsunit/app/jsUnitCore.js"></script>
        <script language="JavaScript" type="text/javascript" src="../../../../../main/js/topcoder/widgets/bridge/WidgetBridgeNamespace.js">
        </script>
        <script language="JavaScript" type="text/javascript" src="../../../../../main/js/topcoder/widgets/bridge/Contest.js">
        </script>
        <script language="JavaScript" type="text/javascript">
            /** 
             * The Contest instance.
             */
            var instance = null;
            
            /**
             * Valid JSON.
             */
            var validJSON = 
				"{\"contestID\" : 222, \"projectID\" : 333, \"name\" : \"contest name\", \"shortSummary\" : \"short summary\","+
				" \"prizes\" : [{\"place\" : 1,\"amount\" : 20000},{\"place\" : 2,\"amount\" : 10000}], \"launchDateAndTime\" : \"2008-03-07 01:00\","+
				" \"durationInHours\" : 3, \"winnerAnnouncementDeadline\" : \"2008-03-20 01:00\",\"contestTypeID\" : 1,\"contestChannelID\" : 1,\"finalFileFormatList\" : [\"format 1\",\"format2\",\"format3\"],"+
				" \"finalFileFormatOther\" : \"zip\", \"documentationUploads\" : [], \"statusID\" : 3221123, \"contestPayloads\" : [{\"name\" : \"JSON Payload Name1\",\"value\" : "+
				" \"JSON Payload Value1\",\"description\" : \"JSON Payload Desc1\",\"required\" : true, \"contestTypeID\" : 4444},"+
				" {\"name\" : \"JSON Payload Name2\",\"value\" : \"JSON Payload Value2\",\"description\" : \"JSON Payload Desc2\",\"required\" : true,"+
				" \"contestTypeID\" : 4444}], \"contestCategoryID\" : 2, \"contestDescriptionAndRequirements\" : \"This is a long desc\", "+
				" \"requiredOrRestrictedColors\" : \"red\", \"requiredOrRestrictedFonts\" : \"arial\", \"sizeRequirements\" : \"11 pt.\", "+
				" \"eligibility\" : \"red\"," +
				" \"notesOnWinnerSelection\" : \"red\"," +
				" \"prizeDescription\" : \"red\"," +
				" \"media\" : [{\"mediaId\" : 1,\"description\" : \"Web\"},{\"mediaId\" : 2,\"description\" : \"Application\"}], "+
				" \"otherRequirementsOrRestrictions\" : \"other reqs\", \"tcDirectProjectID\" : 1000, \"requiresPreviewFile\" : false, \"requiresPreviewImage\" : false, \"maximumSubmissions\" : 100, \"submissionCount\" : 555, \"numberOfRegistrants\" : 41, \"forumId\" : 1 , \"forumPostCount\" : 34 , \"creatorUserID\" : 7000}";
				
            /**
             * Invalid JSON.
             */
            var invalidJSON = "{\"z\" : 123}";
				

            /**
             * setUp. Creates the Contest instance.
             */
            function setUp() {
                instance = new js.topcoder.widgets.bridge.Contest();
            }

            /**
             * Test the constructor whether it is instantiating properly.
             */
            function test_Constructor_Instantiation() {
                assertNotNull("Unable to instantiate Contest.", instance);
            }

            /**
             * Test private variable contestID.
             */
            function test_contestID() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.contestID));
            }

            /**
             * Test private variable contestID.
             */
            function test_contestID() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.contestID));
            }

            /**
             * Test private variable projectID.
             */
            function test_projectID() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.projectID));
            }

            /**
             * Test private variable name.
             */
            function test_name() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.name));
            }

            /**
             * Test private variable shortSummary.
             */
            function test_shortSummary() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.shortSummary));
            }

            /**
             * Test private variable prizes.
             */
            function test_prizes() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.prizes));
            }

            /**
             * Test private variable launchDateAndTime.
             */
            function test_launchDateAndTime() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.launchDateAndTime));
            }

            /**
             * Test private variable durationInHours.
             */
            function test_durationInHours() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.durationInHours));
            }

            /**
             * Test private variable winnerAnnouncementDeadline.
             */
            function test_winnerAnnouncementDeadline() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.winnerAnnouncementDeadline));
            }

            /**
             * Test private variable contestTypeID.
             */
            function test_contestTypeID() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.contestTypeID));
            }

            /**
             * Test private variable finalFileFormatList.
             */
            function test_finalFileFormatList() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.finalFileFormatList));
            }

            /**
             * Test private variable submissionCount.
             */
            function test_submissionCount() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.submissionCount));
            }
            
            /**
             * Test private variable numberOfRegistrants .
             */
            function test_numberOfRegistrants() {
            	// should not be seen, private variable
            	assertEquals("Should not be seen, private variable!", "undefined", typeof(instance.numberOfRegistrants ));

            	var json = eval("(" + validJSON + ")");
           		var jsonObj = new js.topcoder.widgets.bridge.Contest(json);
           		jsonObj.setNumberOfRegistrants(41);
           		assertEquals("numberOfRegistrants is incorrect.", 41, jsonObj.getNumberOfRegistrants());
            }
            
            /**
             * Tests Contructor with valid JSON for accuracy.
             */
            function test_Contructor_validJSON() {
            	var json = eval("(" + validJSON + ")");

            		var jsonObj = new js.topcoder.widgets.bridge.Contest(json);
                assertEquals("submissionCount is incorrect.",555,jsonObj.submissionCount);
            		assertNotNull("Unable to instantiate Contest.", jsonObj);

            }

            /**
             * Tests Contructor with invalid JSON for accuracy.
             */
            function test_Contructor_invalidJSON() {
            	var json = eval("(" + invalidJSON + ")");
            	try {
            		var jsonObj = new js.topcoder.widgets.bridge.Contest(json);
            		fail("There should be an exception generated");
            	} catch(x) {
            		// expected
            	}
            }

            /**
             * Tests getWinnerAnnouncementDeadlineAsDate.
             */
            function test_getWinnerAnnouncementDeadlineAsDate() {
            	var json = eval("(" + validJSON + ")");
            		var jsonObj = new js.topcoder.widgets.bridge.Contest(json);
            		assertNotNull(jsonObj.getWinnerAnnouncementDeadlineAsDate());
            }
            
            
            /**
             * Tests getLaunchDateAndTimeAsDate.
             */
            function test_getLaunchDateAndTimeAsDate() {
            	var json = eval("(" + validJSON + ")");
            		var jsonObj = new js.topcoder.widgets.bridge.Contest(json);
            		assertNotNull(jsonObj.getLaunchDateAndTimeAsDate());
            }
            
            /**
             * Tears down. Sets the instance value to null.
             */
            function tearDown() {
                instance = null;
            }
        </script>
    </head>
    <body>
        <h1>Contest - Unit Tests</h1>
        <p>This page contains unit tests for the js Class Contest. To see them, take a look at the source.</p>
    </body>
</html>
