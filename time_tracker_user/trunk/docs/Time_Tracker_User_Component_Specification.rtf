{\rtf1\ansi\ansicpg1252\uc1\deff0\stshfdbch0\stshfloch0\stshfhich0\stshfbi0\deflang1033\deflangfe1033{\fonttbl{\f0\froman\fcharset0\fprq2{\*\panose 02020603050405020304}Times New Roman;}{\f1\fswiss\fcharset0\fprq2{\*\panose 020b0604020202020204}Arial;}
{\f2\fmodern\fcharset0\fprq1{\*\panose 02070309020205020404}Courier New;}{\f3\froman\fcharset2\fprq2{\*\panose 05050102010706020507}Symbol;}{\f36\froman\fcharset238\fprq2 Times New Roman CE;}{\f37\froman\fcharset204\fprq2 Times New Roman Cyr;}
{\f39\froman\fcharset161\fprq2 Times New Roman Greek;}{\f40\froman\fcharset162\fprq2 Times New Roman Tur;}{\f41\froman\fcharset177\fprq2 Times New Roman (Hebrew);}{\f42\froman\fcharset178\fprq2 Times New Roman (Arabic);}
{\f43\froman\fcharset186\fprq2 Times New Roman Baltic;}{\f44\froman\fcharset163\fprq2 Times New Roman (Vietnamese);}{\f46\fswiss\fcharset238\fprq2 Arial CE;}{\f47\fswiss\fcharset204\fprq2 Arial Cyr;}{\f49\fswiss\fcharset161\fprq2 Arial Greek;}
{\f50\fswiss\fcharset162\fprq2 Arial Tur;}{\f51\fswiss\fcharset177\fprq2 Arial (Hebrew);}{\f52\fswiss\fcharset178\fprq2 Arial (Arabic);}{\f53\fswiss\fcharset186\fprq2 Arial Baltic;}{\f54\fswiss\fcharset163\fprq2 Arial (Vietnamese);}
{\f56\fmodern\fcharset238\fprq1 Courier New CE;}{\f57\fmodern\fcharset204\fprq1 Courier New Cyr;}{\f59\fmodern\fcharset161\fprq1 Courier New Greek;}{\f60\fmodern\fcharset162\fprq1 Courier New Tur;}{\f61\fmodern\fcharset177\fprq1 Courier New (Hebrew);}
{\f62\fmodern\fcharset178\fprq1 Courier New (Arabic);}{\f63\fmodern\fcharset186\fprq1 Courier New Baltic;}{\f64\fmodern\fcharset163\fprq1 Courier New (Vietnamese);}}{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;
\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;
\red128\green128\blue128;\red192\green192\blue192;\red51\green51\blue153;}{\stylesheet{\ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs24\lang1033\langfe1033\cgrid\langnp1033\langfenp1033 \snext0 Normal;}{\*\cs10 \additive 
\ssemihidden Default Paragraph Font;}{\*\ts11\tsrowd\trftsWidthB3\trpaddl108\trpaddr108\trpaddfl3\trpaddft3\trpaddfb3\trpaddfr3\trcbpat1\trcfpat1\tscellwidthfts0\tsvertalt\tsbrdrt\tsbrdrl\tsbrdrb\tsbrdrr\tsbrdrdgl\tsbrdrdgr\tsbrdrh\tsbrdrv 
\ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs20\lang1024\langfe1024\cgrid\langnp1024\langfenp1024 \snext11 \ssemihidden Normal Table;}}{\*\latentstyles\lsdstimax156\lsdlockeddef0}{\*\listtable{\list\listtemplateid1975172456
\listsimple{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat0\levelspace0\levelindent0{\leveltext\'01*;}{\levelnumbers;}}{\listname ;}\listid-2}}{\*\listoverridetable{\listoverride\listid-2\listoverridecount1{\lfolevel
\listoverrideformat{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat0\levelold\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fbias0 }}\ls1}}{\*\rsidtbl \rsid4463832\rsid7867592\rsid13136598}
{\*\generator Microsoft Word 11.0.5604;}{\info{\author TCSDESIGNER}{\operator TCSDESIGNER}{\creatim\yr2007\mo3\dy15\hr1\min19}{\revtim\yr2007\mo3\dy15\hr2\min16}{\version3}{\edmins57}{\nofpages9}{\nofwords3025}{\nofchars17246}{\*\company CPPI}
{\nofcharsws20231}{\vern24689}}\widowctrl\ftnbj\aenddoc\noxlattoyen\expshrtn\noultrlspc\dntblnsbdb\nospaceforul\hyphcaps0\horzdoc\dghspace120\dgvspace120\dghorigin1701\dgvorigin1984\dghshow0\dgvshow3
\jcompress\viewkind4\viewscale110\nolnhtadjtbl\rsidroot4463832 \fet0\sectd \linex0\sectdefaultcl\sftnbj {\*\pnseclvl1\pnucrm\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl2\pnucltr\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl3
\pndec\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl4\pnlcltr\pnstart1\pnindent720\pnhang {\pntxta )}}{\*\pnseclvl5\pndec\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl6\pnlcltr\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}
{\*\pnseclvl7\pnlcrm\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl8\pnlcltr\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl9\pnlcrm\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}\pard\plain 
\ql \li283\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar\tx1003\faauto\rin0\lin283\itap0 \fs24\lang1033\langfe1033\cgrid\langnp1033\langfenp1033 {\b\f1\fs28\ul\insrsid13136598 Time Tracker User version 3.2 Component Specification
\par }\pard \ql \li720\ri0\sa120\nowidctlpar\faauto\rin0\lin720\itap0 {\f1\fs20\insrsid13136598 
\par }\pard \ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar\tx0\tx77\faauto\rin0\lin0\itap0 {\b\f1\insrsid13136598 1.Design
\par }\pard \ql \li720\ri0\nowidctlpar\faauto\rin0\lin720\itap0 {\f1\fs20\insrsid13136598 
The Time Tracker User custom component is part of the Time Tracker application.  It provides an abstraction of users.  This component handles the persistence and other business logic required by the application.
\par 
\par The design is separated into 2 layers of ma
nagement: The topmost layer are the Manager classes, which provide the functionality needed to update, retrieve and search from the data store.  Batch operations are also available in the Manager classes.  The next layer are the DAOs, which interact direc
tly with the data store.  There is also a sublayer, called the FilterFactory layer, which are responsible for building search filters which can be used to search the filter.
\par 
\par }{\f1\fs20\cf6\insrsid13136598 An additional layer is built on top of the first two layers.  This layer is the J2
EE layer, which consists of a Local, LocalHome, Delegate, and SessionBean classes for each of the different entities.  The Local and LocalHome interfaces define the methods needed by the J2EE container to create the implementing classes.  The Delegate, Lo
c
al and SessionBean classes all implement/extend from their respective Manager interface, and therefore have the same set of business methods.  The Delegate looks up the Local interface and routes all method calls to the Local interface.  The Local interfa
ce then routes those calls to the SessionBean.  The SessionBean finally routes those calls to the Manager implementation, where the actual business logic resides.
\par 
\par The final version of 3.1 included most of the functionality for the J2EE layer.  The design makes some slight modifications and improves upon the documentation provided by this final version:
\par 
\par {\pntext\pard\plain\f3\fs20\cf6 \loch\af3\dbch\af0\hich\f3 \'b7\tab}}\pard \ql \fi-720\li1440\ri0\nowidctlpar{\*\pn \pnlvlblt\ilvl0\ls1\pnrnot0\pnf3 {\pntxtb \'b7}}\faauto\ls1\rin0\lin1440\itap0\pararsid4463832 {\f1\fs20\cf6\insrsid13136598 
No more state is maintained within the SessionBeans.  The SessionBean 'looks up' the relevant Manager using a ManagerFactory.  The UserManagerFactory acts like a singleton, and functions as a global access point for the Manager.
\par {\pntext\pard\plain\f3\fs20\cf6 \loch\af3\dbch\af0\hich\f3 \'b7\tab}A sample Deployment Descriptor is provided in the docs directory.
\par {\pntext\pard\plain\f3\fs20\cf6 \loch\af3\dbch\af0\hich\f3 \'b7\tab}A new Sequence Diagram was added to depict the J2EE functionality.
\par {\pntext\pard\plain\f3\fs20\cf6 \loch\af3\dbch\af0\hich\f3 \'b7\tab}
A note was added to the Use Cases, saying that the application may now run under a J2EE container.  Since the requirements for the new changes are not actual business functionality, but rather more on the inner functionality of the component, it did not s
eem appropriate to introduce a new use case for the new requirements.
\par {\pntext\pard\plain\f3\fs20\cf6 \loch\af3\dbch\af0\hich\f3 \'b7\tab}The JBoss Transaction DataSource may be configured using ConnectionFactory.
\par {\pntext\pard\plain\f3\fs20\cf6 \loch\af3\dbch\af0\hich\f3 \'b7\tab}The design attempts to adhere to the J2EE specification of not allowing File access by delegating all file 
access to an external UserManagerFactory class.  This is a pragmatic approach which has been proven to work in previous designs (see the Orpheus Application components, like Game Persistence, Administration Persistence components).  File access does not o
ccur within the SessionBean itself, but rather within external classes when the application is called.  It is also possible for File Access to occur before any SessionBean calls occur, since the ConfigManager may be initialized beforehand.
\par {\pntext\pard\plain\f3\fs20\cf6 \loch\af3\dbch\af0\hich\f3 \'b7\tab}Note that the o
nly other alternative to not using ConfigManager and configuration files will be to restrict usage of ANY TC components that utilize configuration files - these include the Connection Factory, Search Builder and ID Generator components, which are a core p
art of the given component.
\par }\pard \ql \li720\ri0\nowidctlpar\faauto\rin0\lin720\itap0 {\f1\fs20\cf6\insrsid13136598 
\par }{\f1\fs20\cf6\insrsid4463832 
\par 
\par 
\par }{\f1\fs20\cf6\insrsid13136598 The following issues have also been identified:
\par {\pntext\pard\plain\f3\fs20\cf6 \loch\af3\dbch\af0\hich\f3 \'b7\tab}}\pard \ql \fi-720\li1440\ri0\nowidctlpar{\*\pn \pnlvlblt\ilvl0\ls1\pnrnot0\pnf3 {\pntxtb \'b7}}\faauto\ls1\rin0\lin1440\itap0\pararsid4463832 {\f1\fs20\cf6\insrsid13136598 
The SecurityRole and Principal objects from Authorization component need to be made Serializable.  The issue here is similar to the Serializable issue of the Filter classes.
\par }\pard \ql \li720\ri0\nowidctlpar\faauto\rin0\lin720\itap0 {\f1\fs20\insrsid13136598 
\par 
\par }{\i\f1\fs20\insrsid13136598 
\par }\pard \ql \li0\ri0\nowidctlpar\tx720\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 1.1Design Patterns 
\par }{\f1\insrsid13136598 
\par }\pard \ql \li720\ri0\sa120\sl240\slmult0\nowidctlpar\faauto\rin0\lin720\itap0 {\b\i\f1\fs20\insrsid13136598 The Strategy Pattern.}{\i\f1\fs20\insrsid13136598  The DAO class such as UserDAO i
s a strategy for persisting and retrieving information from a data store.}{\f1\insrsid13136598 
\par }{\b\i\f1\fs20\insrsid13136598 The Facade Pattern.}{\i\f1\fs20\insrsid13136598  The UserManager class encapsulates some subsystem DAOs and other components to provide a unified API that makes it easier to manage the Users.
\par }{\b\i\f1\fs20\insrsid13136598 The Factory Pattern.}{\i\f1\fs20\insrsid13136598  The Factory pattern is used in the FilterFactory layer.  The UserFilterFactory employ this pattern.
\par }{\b\i\f1\fs20\cf6\insrsid13136598 The Business Delegate  Pattern.}{\i\f1\fs20\cf6\insrsid13136598  The Business Delegate pattern is utilized in the UserManagerDelegate class.}{\f1\cf6\insrsid13136598 
\par }{\b\i\f1\fs20\cf6\insrsid13136598 The Sevice Locator Pattern.}{\i\f1\fs20\cf6\insrsid13136598 
 The Service Locator pattern is utilized in the same classes as the Business Delegate pattern.  These classes perform a dual-function as a business delegate and service locator.}{\f1\cf6\insrsid13136598 
\par }\pard \ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0 {\f1\fs20\insrsid13136598 
\par }\pard \ql \li0\ri0\nowidctlpar\tx0\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 1.2Industry Standards 
\par }\pard \ql \li720\ri0\sa120\sl240\slmult0\nowidctlpar\faauto\rin0\lin720\itap0 {\i\f1\fs20\insrsid13136598 None
\par }\pard \ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0 {\f1\fs20\insrsid13136598 
\par }\pard \ql \li0\ri0\nowidctlpar\tx0\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 1.3Required Algorithms
\par }\pard \ql \li720\ri0\sb120\nowidctlpar\faauto\rin0\lin720\itap0 {\f1\fs20\insrsid13136598 There were no algorithms required and the component is straightforward enough.  We will discuss the database schema, and the method of searching in this section.

\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\f1\insrsid13136598 
\par }\pard \ql \fi-360\li742\ri0\nowidctlpar\tx382\tx742\faauto\rin0\lin742\itap0 {\i\f1\fs18\insrsid13136598 1.3.1 }{\i\f1\fs20\insrsid13136598 Data Mapping}{\f1\insrsid13136598 
\par }\pard \ql \li720\ri0\nowidctlpar\tx670\faauto\rin0\lin720\itap0 {\f1\fs20\insrsid13136598 
This section will deal with mapping the different values in the beans to their respective columns. The developer is responsible for generating the necessary SQL to insert/retrieve the data in the beans from the approp
riate columns.  The SQL will require some simple table joins at the most.  Please refer to the ERD diagrams for more information.
\par 
\par }{\f1\fs20\ul\insrsid13136598 1.3.1.1 User Class and user_account Table [see TimeTrackerUser_ERD.jpg]}{\f1\fs20\insrsid13136598 
\par }\pard \ql \fi-360\li1440\ri0\nowidctlpar\tx670\tx1440\faauto\rin0\lin1440\itap0 {\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 Column user_account_id maps to the id property in the TimeTrackerBean superclass of the User class.  
\par }\pard \ql \li1440\ri0\nowidctlpar\tx670\faauto\rin0\lin1440\itap0 {\i\f1\fs20\insrsid13136598 Note: The id generator is used to create a new user_account_id when a new record is inserted.}{\f1\fs20\insrsid13136598 
\par }\pard \ql \fi-360\li1440\ri0\nowidctlpar\tx670\tx1440\faauto\rin0\lin1440\itap0 {\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 Column company_id maps to the companyId property in the User class.
\par }\pard \ql \fi-360\li1440\ri0\nowidctlpar\faauto\rin0\lin1440\itap0 {\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 Column account_status_id maps to the id of the Status property in the User class.
\par }{\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 Column user_name maps to the username property in the User class.
\par }{\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 Column password maps to the passowrd property in the User class.
\par }{\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 Column creation_date maps to the creationDate property in the TimeTrackerBean superclass of the User class.
\par }{\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 Column creation_user maps to the creationUser property in the TimeTrackerBean superclass of the User class.
\par }{\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 Column modification_date maps to the modificationDate property in the TimeTrackerBean superclass of the User class.
\par }{\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 Column modification_user maps to the modificationUser property in the TimeTrackerBean superclass of the User  class.
\par }\pard \ql \li720\ri0\nowidctlpar\tx670\faauto\rin0\lin720\itap0 {\f1\fs20\insrsid13136598 \tab }{\b\f1\fs20\insrsid13136598 
\par }{\f1\fs20\insrsid13136598 \tab 
\par }{\f1\fs20\ul\insrsid13136598 1.3.1.2 User Class and Contact [we discuss the relevant columns for the Search Filters; see TimeTrackerContact_ERD.jpg]
\par }\pard \ql \fi-360\li1440\ri0\nowidctlpar\tx670\tx1440\faauto\rin0\lin1440\itap0 {\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 
Table contact_relation is used to join the contact table with the user.  The join is performed on entity_id -> user_account_id and contact_type_id -> contact type for a "USER" type entity.  
\par }\pard \ql \li1080\ri0\nowidctlpar\tx670\tx1440\faauto\rin0\lin1080\itap0 {\f1\fs20\insrsid13136598 
\par }\pard \ql \fi-360\li1440\ri0\nowidctlpar\tx670\faauto\rin0\lin1440\itap0 {\f1\fs20\insrsid13136598 \tab }{\i\f1\fs20\insrsid13136598 The actual contact data is located within the contact table:
\par }{\f1\fs20\insrsid13136598 
\par }\pard \ql \fi-1080\li2160\ri0\nowidctlpar\tx670\tx1440\faauto\rin0\lin2160\itap0 {\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 Column first_name maps to the User's first name [used in createFirstNameFilter]
\par }\pard \ql \fi-1080\li2160\ri0\nowidctlpar\tx670\tx1080\faauto\rin0\lin2160\itap0 {\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 Column last_name maps to the User's last name [used in createLastNameFilter]
\par }\pard \ql \fi-1080\li2160\ri0\nowidctlpar\faauto\rin0\lin2160\itap0 {\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 Column phone maps to the User's phone no. [used in createPhoneNumberFilter]
\par }{\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 Column email maps to the User's email address [used in createEmailFilter]}{\f1\fs20\ul\insrsid13136598 
\par }\pard \ql \li720\ri0\nowidctlpar\tx670\faauto\rin0\lin720\itap0 {\f1\fs20\insrsid13136598 
\par }{\f1\fs20\ul\insrsid13136598 1.3.1.3 User Class and Address [we discuss the relevant columns for the Search Filters; see TimeTrackerContact_ERD.jpg]
\par }\pard \ql \fi-360\li1440\ri0\nowidctlpar\tx670\tx1440\faauto\rin0\lin1440\itap0 {\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 
Table address_relation is used to join the address table with the user.  The join is performed on entity_id -> user_account_id and address_type_id -> contact type for a "USER" type entity.  
\par }\pard \ql \li720\ri0\nowidctlpar\tx670\faauto\rin0\lin720\itap0 {\f1\fs20\insrsid13136598 
\par \tab }{\i\f1\fs20\insrsid13136598 The actual address data is located within the address table}{\f1\fs20\insrsid13136598 :
\par 
\par }\pard \ql \fi-360\li1440\ri0\nowidctlpar\tx670\tx1440\faauto\rin0\lin1440\itap0 {\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 Column line1 maps to the User's Address [used in createAddressFilter]
\par }\pard \ql \fi-360\li1440\ri0\nowidctlpar\faauto\rin0\lin1440\itap0 {\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 Column line2 maps to the User's Address [used in createAddressFilter]
\par }{\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 Column city maps to the User's city [used in createCityFilter]
\par }{\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 Column state_name_id will map to the User's State [used in createStateFilter]
\par }{\f3\fs20\insrsid13136598 \'b7\tab }{\f1\fs20\insrsid13136598 Column zip_code maps to the User's zipcode [used in createZipCodeFilter]
\par }\pard \ql \li720\ri0\nowidctlpar\tx670\faauto\rin0\lin720\itap0 {\f1\fs20\insrsid13136598 \tab 
\par 
\par 
\par }\pard \ql \li368\ri0\nowidctlpar\faauto\rin0\lin368\itap0 {\i\f1\fs20\insrsid13136598 1.3.2 Searching
\par }\pard \ql \li1440\ri0\nowidctlpar\faauto\rin0\lin1440\itap0 {\i\f1\fs20\insrsid13136598 \tab \tab }{\f1\fs20\insrsid13136598 
\par }\pard \ql \li1134\ri0\sb57\nowidctlpar\faauto\rin0\lin1134\itap0 {\f1\fs20\insrsid13136598 
Searching is executed in this component by using the Search Builder component and the FilterFactory layer.  First off, the developer needs to develop a search query off which to base the search on.  The search query will retrieve all the necessary attribu
t
es, and join with the tables of any possible criterion.  Once a query has been defined, in the constructor, the appropriate FilterFactory will be initialized with the column names used in the query.  This FilterFactory can then be returned by the appropri
ate getFilterFactory method.
\par 
\par The user may then use the Factory to build the search filters.  Once the filters are provided back to the DAO implementation, it may use the DatabaseSearchStrategy to build the search.  The DatabaseSearchStrategy will then add 
the necessary WHERE clauses to constrain the search to the search criterion specified in the Filters.
\par 
\par }{\b\f1\fs20\insrsid13136598 Example:
\par }{\f1\fs20\insrsid13136598 
\par The following query may be used as the context for searching the Users (we reduce the retrieved data to only the id, but developer may modify it to retrieve all relevant fields):
\par \tab }{\f2\fs20\insrsid13136598 SELECT 
\par \tab \tab user_account_id
\par \tab FROM
\par \tab \tab user_account
\par \tab INNER JOIN
\par \tab \tab contact_relation
\par \tab \tab ON
\par \tab \tab contact_relation.entity_id = user_account_id
\par \tab INNER JOIN
\par \tab \tab contact
\par \tab \tab ON
\par \tab \tab contact.contact_id = contact_relation.contact_id
\par \tab INNER JOIN
\par \tab \tab address_relation
\par \tab \tab ON
\par \tab \tab address_relation.entity_id = user_account_id
\par \tab INNER JOIN
\par \tab \tab address
\par \tab \tab ON
\par \tab \tab address.address_id = address_relation.address_id
\par }{\f1\fs20\insrsid13136598 \tab }{\f2\fs20\insrsid13136598 WHERE
\par }{\f1\fs20\insrsid13136598 
\par From this context, the Search Builder can then add the different WHERE clauses, depending on the filter that was provide.  For example, if a filter for the first name was created using createFirstNameFilter, then the Search Builder would add:
\par \tab }{\f2\fs20\insrsid13136598 WHERE (continued from above)
\par \tab \tab contact.first_name = [value of filter]
\par }{\f1\fs20\insrsid13136598 
\par To accomplish this, in the constructor of the DAO, the DbUserFilterFactory must be configured according to the context query that was used.  In this example, the mapped value for the FIRST_NAME_COLUMN_NAME should be "contact.first_name".
\par }\pard \ql \li368\ri0\nowidctlpar\faauto\rin0\lin368\itap0 {\i\f1\fs20\insrsid13136598 
\par 1.3.3 Auditing
\par \tab }{\f1\fs20\insrsid13136598 The method implementation notes contain the audit header information that should be used}{\i\f1\fs20\insrsid13136598 \tab }{\f1\fs20\insrsid13136598 
when performing the audit.  The following clarifies how to create AuditDetail objects to add to the AuditHead
er.  When creating a new entry (audit header action type is CREATE), then the oldValue for each detail is null.  When deleting an entry (audit header action type is DELETE), then the newValue for each detail is null.  When updating an entry, the old value
 is retrieved from the datastore to populate the AuditDetail's old value. }{\i\f1\fs20\insrsid13136598 
\par 
\par }\pard \ql \li1134\ri0\sb57\nowidctlpar\faauto\rin0\lin1134\itap0 {\f1\fs16\insrsid13136598 
\par }\pard \ql \li0\ri0\nowidctlpar\tx0\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 1.4Component Class Overview
\par \tab Package com.topcoder.time.tracker.user
\par \tab UserManager (interface)
\par }\pard \ql \li720\ri0\nowidctlpar\faauto\rin0\lin720\itap0 {\f1\fs20\insrsid13136598 \tab This interface represents the API that may be used in order to manipulate the various 
details involving a Time Tracker User.  CRUDE and search methods are provided to manage the Users inside a persistent store.  There are also methods that for the manipulation of various roles for the Time Tracker user (The actual authorization of a User's
 actions can be done with the Authorization component).  
\par 
\par }{\b\f1\fs20\insrsid13136598 UserDAO (interface)
\par }{\f1\fs20\insrsid13136598 \tab 
This is an interface definition for the DAO that is responsible for handling the retrieval, storage, and searching of Time Tracker User data from a persistent store.  It is also responsible for generating ids for any entities within it's scope, whenever a
n id is required.
\par 
\par }{\b\f1\fs20\insrsid13136598 UserFilterFactory (interface)
\par }{\f1\fs20\insrsid13136598 \tab This interface defines a factory that is capable of creating search filters used for searching through Time Tracker Users.  It offers a convenient way of specifying search criteria to use.  The factory is ca
pable of producing filters that conform to a specific schema, and is associated with the UserManager that supports the given schema.}{\b\f1\fs20\insrsid13136598 
\par }\pard \ql \li0\ri0\nowidctlpar\tx0\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 
\par \tab BaseFilterFactory (interface)
\par }\pard \ql \li720\ri0\nowidctlpar\faauto\rin0\lin720\itap0 {\f1\fs20\insrsid13136598 \tab This is a base FilterFactory interface that provides filter creation methods that may be u
sed for filters of any Time Tracker Bean.  It encapsulates filters for the common functionality - namely, the creation and modification date and user.}{\b\f1\fs20\insrsid13136598 
\par }\pard \ql \li0\ri0\nowidctlpar\tx0\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 \tab 
\par \tab User
\par }\pard \ql \li720\ri0\nowidctlpar\faauto\rin0\lin720\itap0 {\b\f1\fs20\insrsid13136598 \tab }{\f1\fs20\insrsid13136598 This is the main data class of the component, and includes getters and setters to access the var
ious properties of a Time Tracker User,   This class encapsulates the user's account information within the Time Tracker component.  It contains the user's login and authentication details, contact information, and account status.
\par 
\par }{\b\f1\fs20\insrsid13136598 Status
\par }{\f1\fs20\insrsid13136598 \tab This is an enumeration that is used to distinguish between the different types of Status that may be assigned to a user.  At the moment, ACTIVE, INACTIVE and LOCKED status may be assigned.
\par 
\par }\pard \ql \li0\ri0\nowidctlpar\tx0\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 \tab UserManagerImpl implements UserManager
\par }\pard \ql \fi-720\li720\ri0\nowidctlpar\faauto\rin0\lin720\itap0 {\b\f1\fs20\insrsid13136598 \tab \tab }{\f1\fs20\insrsid13136598 This is a default implementation of the 
UserManager interface.  it utilizes instances of the UserDAO in order to fulfill the necessary CRUDE and search operations defined for the Time Tracker User.
\par }{\b\f1\fs20\cf6\insrsid13136598 \tab 
\par \tab UserManagerFactory
\par \tab \tab }{\f1\fs20\cf6\insrsid13136598 This class is used to create UserManager implementations to use by the delegate classes.}{\f1\fs20\insrsid13136598 
\par \tab }{\b\f1\fs20\insrsid13136598 
\par }\pard \ql \li0\ri0\nowidctlpar\tx0\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 
\par \tab Package com.topcoder.time.tracker.user.db
\par 
\par }\pard \ql \li720\ri0\nowidctlpar\faauto\rin0\lin720\itap0 {\b\f1\fs20\insrsid13136598 DbUserDAO implements UserDAO
\par }{\f1\fs20\insrsid13136598 \tab This is an implementation of the UserDAO interface that utilizes a database with the schema 
provided in the Requirements Section of Time Tracker 3.1.  It delegates certain Contact-related information to the Time Tracker Contact component.
\par 
\par }{\b\f1\fs20\insrsid13136598 DbUserFilterFactory
\par }{\f1\fs20\insrsid13136598 \tab This is an implementation of the UserFilterFactory that may be used for building 
\par searches in the database.}{\b\f1\fs20\insrsid13136598 
\par }\pard \ql \li0\ri0\nowidctlpar\tx0\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 
\par }\pard \ql \li1140\ri0\nowidctlpar\faauto\rin0\lin1140\itap0 {\f1\fs20\insrsid13136598 
\par }\pard \ql \li0\ri0\nowidctlpar\tx0\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 1.5Component Exception Definitions
\par }\pard \ql \li720\ri0\nowidctlpar\faauto\rin0\lin720\itap0 {\b\f1\fs20\insrsid13136598 DataAccessException 
\par }{\f1\fs20\insrsid13136598 \tab This exception is thrown when a problem occurs while this component is interacting with the persistent store.  It is thrown by all the DAO and Utility interfaces (and their respective implementations).
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\b\f1\insrsid13136598 
\par }\pard \ql \li720\ri0\nowidctlpar\faauto\rin0\lin720\itap0 {\b\f1\fs20\insrsid13136598 UnrecognizedEntityException
\par }{\f1\fs20\insrsid13136598 \tab This exception is thrown when interacting with the data store and an entity cannot be recognized.  It may be thrown when an entity with
\par a specified identifier cannot be found.  It is thrown by all the Utility and DAO interfaces (and their implementations).
\par 
\par }{\b\f1\fs20\cf6\insrsid13136598 ConfigurationException
\par }{\f1\fs20\cf6\insrsid13136598 \tab This exception is thrown when there is a problem that occurs when configuring this component.
\par }{\f1\fs20\cf6\insrsid13136598 
\par }\pard \ql \li720\ri0\nowidctlpar\faauto\rin0\lin720\itap0\pararsid13136598 {\b\f1\fs20\cf6\insrsid13136598 BatchOperationException
\par }{\f1\fs20\cf6\insrsid13136598 \tab This exception is thrown when there is a problem that occurs during batch operations.}{\f1\fs20\insrsid13136598 
\par }\pard \ql \li720\ri0\nowidctlpar\faauto\rin0\lin720\itap0 {\f1\fs20\insrsid13136598 
\par }{\f1\fs20\insrsid13136598 .
\par }\pard \ql \li283\ri0\sa120\nowidctlpar\faauto\rin0\lin283\itap0 {\f1\insrsid13136598 
\par }\pard \ql \li0\ri0\nowidctlpar\tx0\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 1.6Thread Safety
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\b\f1\insrsid13136598 
\par }\pard \ql \li735\ri0\sa120\nowidctlpar\faauto\rin0\lin735\itap0 {\f1\fs20\insrsid13136598 
This component is not completely thread-safe, The Bean instances are not thread safe, and it is expected to be used concurrently only for read-only access.  Otherwise, each thread is expected to work with its own instance.
\par The UserManagerImpl class is requ
ired to be thread safe, and achieves this via the thread safety of the implementations of the DAO Layer, and the FilterFactory Layer.  AuthorizationPersistence is not thread-safe, so synchronization/synchronized blocks may be needed in the critical areas.

\par The DAOLayer is made thread safe through the use of transactions, and is achieved with the transaction level of READ_COMMITTED.
\par }{\f1\fs20\cf6\insrsid13136598 Thread-safety of the J2EE layer is dependent on the statelessness and thread safety of the manager classes, and also on the appl
ication container controlling them. The only thing to pay attention to is that the inner state of the classes are not modified after creation.
\par }{\f1\fs20\insrsid13136598 
\par }\pard \ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar\tx0\tx77\faauto\rin0\lin0\itap0 {\b\f1\insrsid13136598 2.Environment Requirements\tab \tab 
\par }\pard \ql \li0\ri0\nowidctlpar\tx0\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 2.1Environment
\par }\pard \ql \li735\ri0\sa57\nowidctlpar\faauto\rin0\lin735\itap0 {\f1\fs20\insrsid13136598 Java 1.4
\par 
\par }\pard \ql \li0\ri0\nowidctlpar\tx0\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 2.2TopCoder Software Components
\par }\pard \ql \li720\ri0\sa57\nowidctlpar\faauto\rin0\lin720\itap0 {\b\f1\fs20\insrsid13136598 DB Connection Factory 1.0}{\f1\fs20\insrsid13136598  \endash  for creating the DB connections}{\f1\insrsid13136598 
\par }{\b\f1\fs20\insrsid13136598 Base Exception 1.0}{\f1\fs20\insrsid13136598  \endash  base class for custom exception is taken from it}{\f1\insrsid13136598 
\par }{\b\f1\fs20\insrsid13136598 Object Factory 2.0}{\f1\fs20\insrsid13136598  \endash  is indirectly used to configure the component.
\par }{\b\f1\fs20\insrsid13136598 ID Generator 3.0}{\f1\fs20\insrsid13136598  \endash  for generating IDs in the persistence implementation.
\par }{\b\f1\fs20\insrsid13136598 Search Builder 1.3.1}{\f1\fs20\insrsid13136598  \endash  is used to perform the searches
\par }{\b\f1\fs20\insrsid13136598 Authentication Factory 2.0 }{\f1\fs20\insrsid13136598 - is used to perform user authentication.
\par }{\b\f1\fs20\insrsid13136598 Authorization 2.1}{\f1\fs20\insrsid13136598  - is used to associate roles with users.
\par }{\b\f1\fs20\insrsid13136598 TypeSafe Enum 1.0}{\f1\fs20\insrsid13136598  - is used to enumerate the different Status of the User.}{\b\f1\fs20\insrsid13136598 
\par ConfigManager 2.1.5 }{\f1\fs20\insrsid13136598 \endash  is used configure certain portions of the component (also used by Object Factory).}{\b\f1\fs20\insrsid13136598 
\par Time Tracker Audit 3.}{\b\f1\fs20\cf2\insrsid4463832\charrsid4463832 2 }{\f1\fs20\insrsid13136598 \endash  is used to perform the optional audit.
\par }{\b\f1\fs20\insrsid13136598 Time Tracker Contact 3.}{\b\f1\fs20\cf2\insrsid4463832\charrsid4463832 2}{\f1\fs20\insrsid13136598  \endash  is used to persist and retrieve User Contact information and Address
\par }{\b\f1\fs20\insrsid13136598 Time Tracker Common 3.}{\b\f1\fs20\cf2\insrsid4463832\charrsid4463832 2}{\f1\fs20\insrsid13136598  \endash  is used to provide the TimeTrackerBean base class.
\par }{\b\f1\fs20\cf6\insrsid13136598\charrsid4463832 JNDI Context Utility 1.0 - }{\f1\fs20\cf6\insrsid13136598\charrsid4463832 for retrieving the LocalHome interface implementations from the container.
\par }{\f1\fs20\insrsid13136598 
\par 
\par }\pard \ql \li0\ri0\nowidctlpar\tx0\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 2.3Third Party Components
\par }\pard \ql \li720\ri0\nowidctlpar\faauto\rin0\lin720\itap0 {\f1\fs20\insrsid13136598 None
\par }\pard \ql \li720\ri0\sb120\sa60\sl240\slmult0\nowidctlpar\tx720\faauto\rin0\lin720\itap0 {\i\f1\fs20\insrsid13136598 
\par }\pard \ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar\tx0\tx77\faauto\rin0\lin0\itap0 {\b\f1\insrsid13136598 3.Installation and Configuration
\par }\pard \ql \li0\ri0\nowidctlpar\tx0\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 3.1Package Names
\par }\pard \ql \li720\ri0\nowidctlpar\faauto\rin0\lin720\itap0 {\f1\fs20\insrsid13136598 com.topcoder.time.tracker.user
\par com.topcoder.time.tracker.user.db
\par com.topcoder.time.tracker.user.filterfactory
\par com.topcoder.time.tracker.user.j2ee
\par 
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\f1\fs20\insrsid13136598 
\par }\pard \ql \li0\ri0\nowidctlpar\tx0\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 3.2Configuration Parameters
\par }\pard \ql \li720\ri0\nowidctlpar\faauto\rin0\lin720\itap0 {\f1\fs20\insrsid13136598 This component relies on Object Factory 2.0 for configuration that is based from a file.}{\b\f1\fs20\ul\insrsid13136598 
\par }{\f1\fs20\insrsid13136598 
\par 
\par }{\b\f1\fs20\ul\insrsid13136598 For UserAuthenticator:}{\f1\fs20\insrsid13136598 
\par The UserAuthenticator utilizes the following properties for configuration (note that it inherits the configuration properties of the parent class AbstractAuthenticator if Caching or PrincipalKey configuration is desired):
\par 
\par }{\b\f1\fs20\insrsid13136598 objectFactoryNamespace}{\f1\fs20\insrsid13136598  - This is 
the namespace that is used to create a ConfigManagerSpecification factory that will be used to initialize the ObjectFactory used to create the UserDAO implementation to use.  }{\b\f1\fs20\insrsid13136598 Required.
\par 
\par userDao}{\f1\fs20\insrsid13136598  - This property will contain subproperties that define how to initialize the userDao that will be used. }{\b\f1\fs20\insrsid13136598 Required.}{\f1\fs20\insrsid13136598 
\par 
\par }{\b\f1\fs20\insrsid13136598 userDao.classname - }{\f1\fs20\insrsid13136598 The classname of the UserDAO implementation to use.  It will be provided as a method parameter to the createObject method of Object Factory. }{\b\f1\fs20\insrsid13136598 Required.
}{\f1\fs20\insrsid13136598 
\par 
\par }{\b\f1\fs20\insrsid13136598 userDao.identifier }{\f1\fs20\insrsid13136598 - An optional identifier that may also be provided to the createObject method of ObjectFactory. }{\b\f1\fs20\insrsid13136598 Optional.
\par 
\par }{\b\f1\fs20\ul\insrsid13136598 For UserManagerDelegate:
\par 
\par }{\b\f1\fs20\insrsid13136598 Property Name: }{\i\f1\fs20\insrsid13136598 contextName}{\f1\fs20\insrsid13136598 
\par }{\b\f1\fs20\insrsid13136598 Property Description: }{\f1\fs20\insrsid13136598 This is the context name used to retrieve the home object of the respective session bean.  If not specified, then the default context provided by JNDIUtils is used.
\par }{\b\f1\fs20\insrsid13136598 Is Required: }{\i\f1\fs20\insrsid13136598 Optional}{\b\i\f1\fs20\ul\insrsid13136598 
\par }{\f1\fs20\insrsid13136598 
\par 
\par 
\par }\pard \ql \li0\ri0\nowidctlpar\tx0\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 3.3Dependencies Configuration
\par }\pard \ql \li720\ri0\nowidctlpar\faauto\rin0\lin720\itap0 {\f1\fs20\insrsid13136598 All the dependencies are to be configured according to their component specifications.
\par 
\par Do note that the default configuration for Search Builder is desired to be able to build the search string correctly.
\par }\pard \ql \li720\ri0\sa120\sl240\slmult0\nowidctlpar\faauto\rin0\lin720\itap0 {\i\f1\fs20\cf2\insrsid13136598 
\par }\pard \ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar\tx0\tx77\faauto\rin0\lin0\itap0 {\b\f1\insrsid13136598 4.Usage Notes
\par }\pard \ql \li0\ri0\nowidctlpar\tx0\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 4.1Required steps to test the component
\par }\pard \ql \li720\ri0\sa120\nowidctlpar\faauto\rin0\lin720\itap0 {\f1\fs20\insrsid13136598 Extract the component distribution.
\par Follow Dependencies Configuration.
\par Execute \lquote ant test\rquote  within the directory that the distribution was extracted to.
\par 
\par }\pard \ql \li0\ri0\nowidctlpar\tx0\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 4.2Required steps to use the component
\par }\pard \ql \li720\ri0\nowidctlpar\faauto\rin0\lin720\itap0 {\f1\fs20\insrsid13136598 Configure the dependency components. 
\par }\pard \ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0 {\f1\fs20\insrsid13136598 
\par }\pard \ql \li0\ri0\nowidctlpar\tx0\faauto\rin0\lin0\itap0 {\b\f1\fs20\insrsid13136598 4.3 Demo
\par 
\par }{\f1\fs20\cf6\insrsid13136598 Please see the ejb-jar.xml file in docs directory for the deployment descriptor for the J2EE layer of this component.}{\b\f1\fs20\insrsid13136598 
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\f1\fs20\insrsid13136598 
\par We will assume here that everything is configured properly.  Try/catch clauses have been removed to enhance clarity.
\par }{\i\f1\fs20\insrsid13136598 
\par }{\f1\fs20\cf11\insrsid13136598 // Create a UserManager using the DB DAOs, AuthPersistence and User Authenticator.}{\f1\fs20\cf4\insrsid13136598 
\par }{\f1\fs20\cf9\insrsid13136598 UserManager userManager = new UserManager(userDao, authPersistence, "userAuthenticator");
\par }{\f1\fs20\insrsid13136598 
\par }{\b\f1\fs20\cf11\insrsid13136598 //  4.3.1 Creating a new Use}{\b\f1\fs20\insrsid13136598 r}{\f1\fs20\insrsid13136598 
\par }{\f1\fs20\cf9\insrsid13136598 User newUser = new User();
\par newUser.setUsername("TCSDESIGNER");
\par newUser.setPassword("5yks809");
\par newUser.setCompanyId(topcoderId);
\par newUser.setContact(newUserContact);
\par newUser.setAddress(newUserAddress);
\par newUser.setStatus(Status.ACTIVE);
\par newUser.setCreationUser("TCSADMIN");
\par newUser.setModificationUser("TCSADMIN");
\par }{\f1\fs20\insrsid13136598 
\par }{\f1\fs20\cf11\insrsid13136598 // Register the user with the manager, with auditing.}{\f1\fs20\insrsid13136598 
\par }{\f1\fs20\cf9\insrsid13136598 userManager.createUser(newUser, true);
\par }{\f1\fs20\insrsid13136598 
\par }{\b\f1\fs20\cf11\insrsid13136598 // 4.3.2 Changing the User Details}{\f1\fs20\insrsid13136598 
\par 
\par }{\f1\fs20\cf11\insrsid13136598 // Retrieve a user from the manager
\par }{\f1\fs20\cf9\insrsid13136598 User deactivatingUser = userManager.getUser(accountIdToDeactivate);
\par }{\f1\fs20\insrsid13136598 
\par }{\f1\fs20\cf11\insrsid13136598 // Update the user's details.}{\f1\fs20\insrsid13136598 
\par }{\f1\fs20\cf9\insrsid13136598 deactivatingUser.setStatus(Status.INACTIVE);
\par deactivatingUser.setModificationUser("AUTOMATED_EXPIRY_TOOL");
\par }{\f1\fs20\insrsid13136598 
\par }{\f1\fs20\cf11\insrsid13136598 // Update the user in the manager}{\f1\fs20\insrsid13136598 
\par }{\f1\fs20\cf9\insrsid13136598 userManager.updateUser(deactivatingUser, true);
\par }{\f1\fs20\insrsid13136598 
\par }{\b\f1\fs20\cf11\insrsid13136598 // 4.3.3 Search for a group of active users belonging to ACME company and delete them.  The delete operation should be atomic.
\par }{\f1\fs20\insrsid13136598 
\par }{\f1\fs20\cf11\insrsid13136598 // Define the search criteria.
\par }{\f1\fs20\cf9\insrsid13136598 UserFilterFactory filterFactory = userManager.getUserFilterFactory();
\par List criteria = new ArrayList();
\par criteria.add(filterFactory.createCompanyIdFilter(acmeCompanyId));
\par criteria.add(filterFactory.createStatusFilter(Status.ACTIVE));
\par }{\f1\fs20\insrsid13136598 
\par }{\f1\fs20\cf11\insrsid13136598 // Create a search filter that aggregates the criteria.
\par }{\f1\fs20\cf9\insrsid13136598 Filter searchFilter = new AndFilter(criteria);}{\f1\fs20\insrsid13136598 
\par 
\par }{\f1\fs20\cf11\insrsid13136598 // Perform the actual search.}{\f1\fs20\insrsid13136598 
\par }{\f1\fs20\cf9\insrsid13136598 User[] matchingUsers = userManager.searchUsers(searchFilter);
\par }{\f1\fs20\insrsid13136598 
\par }{\f1\fs20\cf11\insrsid13136598 // Delete the users using atomic mode; auditing is performed.
\par }{\f1\fs20\cf9\insrsid13136598 userManager.removeUsers(matchingUsers, true);
\par }{\f1\fs20\insrsid13136598 
\par }{\b\f1\fs20\cf11\insrsid13136598 // 4.3.3 Manipulating User Authorization Roles}{\f1\fs20\insrsid13136598 
\par 
\par }{\f1\fs20\cf11\insrsid13136598 // Make the new User into a SuperUser by giving it the SuperUser role; We assume AuthorizationPersistence has been initialized.
\par 
\par }{\f1\fs20\cf9\insrsid13136598 SecurityRole role = (SecurityRole)authPersistence.searchRoles("SuperUser").iterator().next();
\par userManager.addRoleForUser(newUser, role);
\par }{\f1\fs20\insrsid13136598 
\par }{\f1\fs20\cf11\insrsid13136598 // Remove all the roles from the deactivatingUser}{\f1\fs20\insrsid13136598 
\par }{\f1\fs20\cf9\insrsid13136598 userManager.clearRolesFromUser(newUser);}{\f1\fs20\insrsid13136598 
\par 
\par }{\b\f1\fs20\cf11\insrsid13136598 // 4.3.4 User Authentication
\par 
\par }{\f1\fs20\cf11\insrsid13136598 // Authenticate a username/password combination.}{\f1\fs20\insrsid13136598 
\par }{\f1\fs20\cf9\insrsid13136598 userManager.authenticateUser('TCSDESIGNER', 'TCSPASSWORD');
\par }{\f1\fs20\insrsid13136598 
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0\pararsid4463832 {\b\f1\fs20\cf11\insrsid4463832 // 4.3.5 }{\b\f1\fs20\cf11\insrsid7867592 Creating a Delegate}{\b\f1\fs20\cf11\insrsid4463832 
\par }{\f1\fs20\cf11\insrsid7867592 
\par }{\f1\fs20\cf17\insrsid7867592\charrsid7867592 UserManager userManagerDelegate = new UserManagerDelegate(\'93applicationNamespace\'94);
\par }{\f1\fs20\cf11\insrsid7867592 // Operations may then be performed on the delegate similar to those outlined in the previous
\par // sections of the demo.
\par 
\par }{\f1\fs20\cf11\insrsid7867592\charrsid7867592 
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\f1\fs20\insrsid4463832 
\par }{\f1\fs20\insrsid13136598  
\par }\pard \ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar\tx0\tx77\faauto\rin0\lin0\itap0 {\b\f1\insrsid13136598 5.Future Enhancements
\par }\pard \ql \li750\ri0\sa120\nowidctlpar\faauto\rin0\lin750\itap0 {\f1\fs20\insrsid13136598 Provide implementations for different RDBMS.  
\par }}