Hi,

    I can run your test cases sucessfully alone, but cannot run your failure together with my unit tests.
    After looking into the code, I found there are two issues:
    1. UserManagerFactory, it uses the singleton pattern, so your setting to the UserManagerFactory will not
    used if the singleton instance was created.
    Solution : There is a tricky solution, you can refer to TestHelper#resetUserManagerToNull for detail.
    
    2. about UserManagerImplFailureTests, again, the singleton pattern is used for AuthenticationFactory.
    Solution : You can use my configuration (You reload the namespace is useless again here.) Or there may be
    some tricky solution as the issue 1.
    
    
    Thanks!