<?xml version="1.0" encoding="UTF-8"?>
<ejb-jar xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_0.xsd"
    version="3.0">
  <enterprise-beans>

    <session>
      <ejb-name>DigitalRunContestManagerBean</ejb-name>
      <remote>com.topcoder.service.digitalrun.contest.DigitalRunContestManagerRemote</remote>
      <local>com.topcoder.service.digitalrun.contest.DigitalRunContestManagerLocal</local>
      <ejb-class>com.topcoder.service.digitalrun.contest.DigitalRunContestManagerBean</ejb-class>
      <session-type>Stateless</session-type>
      <transaction-type>Container</transaction-type>
      <env-entry>
        <env-entry-name>unit_name</env-entry-name>
        <env-entry-type>java.lang.String</env-entry-type>
        <env-entry-value>HibernateDRContestPersistence</env-entry-value>
      </env-entry>
      <env-entry>
        <env-entry-name>config_file_name</env-entry-name>
        <env-entry-type>java.lang.String</env-entry-type>
        <env-entry-value>config.properties</env-entry-value>
      </env-entry>
      <env-entry>
        <env-entry-name>config_namespace</env-entry-name>
        <env-entry-type>java.lang.String</env-entry-type>
        <env-entry-value>DigitalRunContestManagerBean</env-entry-value>
      </env-entry>
      <persistence-context-ref>
      	<persistence-context-ref-name>
      		HibernateDRContestPersistence
      	</persistence-context-ref-name>
      	<persistence-unit-name>HibernateDRContestPersistence</persistence-unit-name>
      	<persistence-context-type>Transaction</persistence-context-type>
      </persistence-context-ref>
    </session>

  </enterprise-beans>

  <assembly-descriptor>
  	<interceptor-binding>
  		<ejb-name>DigitalRunContestManagerBean</ejb-name>
  		<interceptor-class>com.topcoder.service.digitalrun.contest.audit.interceptors.AuditCreateContestInterceptor</interceptor-class>
  		<method>
  			<method-name>createTrackContest</method-name>
  			<method-params>
  				<method-param>com.topcoder.service.digitalrun.entity.TrackContest</method-param>
  			</method-params>
  		</method>
  	</interceptor-binding>
  	<interceptor-binding>
  		<ejb-name>DigitalRunContestManagerBean</ejb-name>
  		<interceptor-class>com.topcoder.service.digitalrun.contest.audit.interceptors.AuditUpdateContestInterceptor</interceptor-class>
  		<method>
  			<method-name>updateTrackContest</method-name>
  			<method-params>
  				<method-param>com.topcoder.service.digitalrun.entity.TrackContest</method-param>
  			</method-params>
  		</method>
  	</interceptor-binding>
  	<interceptor-binding>
  		<ejb-name>DigitalRunContestManagerBean</ejb-name>
  		<interceptor-class>com.topcoder.service.digitalrun.contest.audit.interceptors.AuditRemoveContestInterceptor</interceptor-class>
  		<method>
  			<method-name>removeTrackContest</method-name>
  			<method-params>
  				<method-param>long</method-param>
  			</method-params>
  		</method>
  	</interceptor-binding>
  </assembly-descriptor>
</ejb-jar>