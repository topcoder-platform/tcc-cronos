<project name="Dependency Import" default="dist" basedir=".">
    <!-- property file defining the component's dependencies -->

    <!-- Properties used in compile_targets ANT target for JDK version x -->
    <property name="component.target" value="1.5"/>
    <property name="component.bootclasspath" value="${java_1_5_bootclasspath}"/>

		<!-- environment setup -->
		<property name="jboss.home" value="e:/program files/jboss-4.2.3.GA" />
		 <property name="struts2.home" value="${ext_libdir}/struts/2.1.8.1" />

    <!-- TCS dependencies -->
    
    <!-- 3rd party dependencies -->
    <property name="xwork-core.jar" value="${struts2.home}/lib/xwork-core-2.1.6.jar" />
    <property name="easymock.jar" value="${ext_libdir}/easymock/2.4/easymock.jar" />
    <property name="struts-core.jar" value="${struts2.home}/lib/struts2-core-2.1.8.1.jar" />
    <property name="junit.jar" value="${ext_libdir}/junit/4.6/junit-4.6.jar"/>
    

    <path id="component.tcs-dependencies">
        <pathelement location="${xwork-core.jar}" />
        <pathelement location="${struts-core.jar}" />
        <fileset dir="${test_reflib}">
            <include name="depends_ejbs_removed.jar" />
            <include name="**/catalog_entities.jar" />
            <include name="**/catalog_services.jar" />
            <include name="**/client_project_entities_dao.jar" />
            <include name="**/base_exception.jar" />
            <include name="**/struts_framework.jar" />
            <include name="security.jar" />
            <!--include name="**/*.jar" /-->
        </fileset>
    </path>

    <path id="component.3rdParty-dependencies">
    	<fileset dir="${jboss.home}/client">
            <include name="jboss-jaxws.jar" />
            <include name="ejb3-persistence.jar" />
            <include name="jbossall-client.jar" />
            <include name="jboss-ejb3x.jar" />
        </fileset>
    </path>

    <path id="component.test.3rdParty-dependencies">
        <pathelement location="${junit.jar}"/>
        <pathelement location="${easymock.jar}"/>
    </path>
    
    <target name="demo" depends="compile_tests">
  		<war destfile="${testfiles}/demo.war" webxml="${testfiles}/demo/WEB-INF/web.xml">
  		  <fileset dir="${testfiles}/demo"/>
  		  <lib dir="${struts2.home}/lib">
  		  	 <exclude name="struts2-*-plugin*.jar"/>
  		  	 <exclude name="struts2-osgi*.jar"/>
  		  </lib>
  		  <lib file="${struts2.home}/lib/struts2-spring-plugin-2.1.8.1.jar" />
  		  <lib file="${test_reflib}/depends_ejbs_removed.jar" />
  		  <lib file="${test_reflib}/security.jar" />
  		  <lib file="${test_reflib}/tcs/catalog_entities/1.2.0/catalog_entities.jar" />
  		  <lib file="${test_reflib}/tcs/catalog_services/1.1/catalog_services.jar" />
  		  <lib file="${test_reflib}/tcs/client_project_entities_dao/1.0.0/client_project_entities_dao.jar" />
  		  <lib file="${test_reflib}/tcs/base_exception/2.0.0/base_exception.jar" />
  		  <lib file="${test_reflib}/tcs/struts_framework/1.0.0/struts_framework.jar" />
  		  <lib file="${test_reflib}/tcs/logging_wrapper/2.0.0/logging_wrapper.jar" />
  		  <lib file="${test_reflib}/tcs/object_formatter/1.0.0/object_formatter.jar" />
  		  <classes dir="${build_classdir}"/>
  	    <classes dir="${build_testclassdir}"/>
  		</war>
		</target>

</project>