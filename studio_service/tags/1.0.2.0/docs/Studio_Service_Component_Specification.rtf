{\rtf1\ansi\ansicpg1252\deff0{\fonttbl{\f0\fswiss\fprq2\fcharset0 Arial;}{\f1\froman\fprq2\fcharset0 Times New Roman;}{\f2\fnil\fcharset2 Wingdings;}{\f3\froman\fprq2\fcharset128 Times New Roman;}{\f4\fmodern\fprq1\fcharset0 Courier New;}{\f5\fmodern\fprq1\fcharset128 Courier New;}{\f6\fmodern\fprq1\fcharset0 Lucida Console;}}
{\colortbl ;\red255\green0\blue0;\red0\green0\blue0;\red0\green128\blue128;\red63\green127\blue127;\red127\green0\blue127;\red42\green0\blue255;\red63\green95\blue191;\red0\green0\blue255;\red0\green0\blue128;}
{\*\generator Msftedit 5.41.21.2507;}\viewkind4\uc1\pard\keepn\sb120\sa60\sl240\slmult0\tx720\lang1033\ul\b\f0\fs28 Studio Service 1.0 Component Specification\par
\pard\li720\sa120\ulnone\b0\fs20\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx360\b\fs24 1.\tab Design\par
\pard\li710\sb100\sa100\b0\f1 This component provides service to get, update, and create contest data; get, remove and update submission data; get some additional information like content's categories, statuses and file types. It defines web service interface and provides its EJB endpoint implementation. Component uses Contest Manager and Submission Manager for providing all operations with persistence. It should not access to persistence by itself.\par
Each contest has only one client who is owner of contest project. Only this client can access to contest, submissions, document etc. Administrators have also access to contests and their privileges are higher than client ones.\par
\pard\li710 The design provides the interface depicted and the EJB implementation. To create the interface, firstly I updated the WSDL with the changes discussed in forum and other necessary changes. Then I generated the interface and all related classes and exception using \i wsconsume\i0  tool of JBoss, to make the interface consistent with WSDL. Then I removed the classes not necessary (request and responses classes) and annotations that are optional. Note that with JAX-WS and JBoss and WSDL is not necessary anymore because the WSDL will be generated by the endpoint interface.\par
At this point I did a refactoring: I changed the classes'  names (with the same value in the annotations) and other changes: these changes are permitted and don't delete the functionality of the classes.\par
The component strongly uses the annotations in all levels: methods and classes.  The exceptions use the fault bean to make the exceptions available to the client side. The administrator identity of the StudioServiceBean is set using the annotations.\par
\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\b\f0\fs20 1.1\tab Design Patterns \f1\par
\b0\i\f0 1.1.1\tab Strategy\f1\par
\pard\li720\i0\fs24 StudioServiceBean uses strategically the ContestManager (through the remote interface) and SubmissionManager (through the remote interface) implementations.\par
\par
\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\i\f0\fs20 1.1.2\tab Adapter and Delegate\f1\par
\pard\li720\i0\fs24 I can say that StudioServiceBean  adapts the entities classes provided in this component to the entities of the Contest Manager and Submission Manager classes. Then  StudioServiceBean delegates the work to these entities.\par
\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\b\f0\fs20 1.2\tab Industry Standards \f1\par
\pard\fi-360\li1440\b0\f2\fs24\'b7\f1\tab EJB (specifically, to ensure this component is compatible with EJB restrictions, as defined in\cf1  \cf0 http://java.sun.com/blueprints/qanda/ejb_tier/restrictions.html).\par
\pard\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\b\f0\fs20 1.3\tab Required Algorithms\f1\par
\b0\i\f0\fs24 1.3.1\tab\fs20 Logging\i0\f1\fs24\par
\pard\li720 Almost all methods in StudioServiceBean (init included and except the getters)  should be logged in the following manner:\par
\pard\fi-360\li1440\f2\'b7\f0\tab\f1 Method entrance and exit at INFO level. \par
\'b7\tab All exceptions and errors at ERROR level. This includes illegal arguments.\par
\'b7\tab the I/O errors of the underlying managers should be logged as ERROR level\par
\'b7\tab Any additional logging is at the developer\rquote s discretion.\par
\pard\li720\par
The logging is optional, therefore if the logName is null then don't provide the logging.\par
\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\i\f0\fs20 1.3.2\tab Exception creation in the  StudioServiceBean\f1\par
\pard\li765\i0\fs24 The exceptions in the StudioServiceBean are constructed using the constructors with the fault beans (the classes with \ldblquote fault\rdblquote  suffix). Firstly create the fault bean, then set the necessary information to the fault bean. At this point construct the exception with the fault bean.\par
This mechanism is necessary to create correctly the SOAP fault message.\par
\pard\li720 The fault beans doesn't implement Serializable because they are not serialized as java objects, they are serialized in the SOAP environment.\par
\f3\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\i\f0\fs20 1.3.3\tab Check the role\f3\par
\pard\li710\i0\f1\fs24 The role checking of the user or administrator is made in almost all methods. This is the algorithm:\par
\u9679?\tab use the sessionContext.isCallerInRole(\ldblquote User\rdblquote ) (or \ldblquote Administrator\rdblquote )\par
\u9679?\tab the \ldblquote User\rdblquote  and \ldblquote Administrator\rdblquote  are declared in the @DeclareRoles annotation\par
\u9679?\tab if the role checking fails then throw the related authorization exception\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\i\f0\fs20 1.3.4\tab Check the user id\f1\par
\pard\li710\i0\fs24 The methods, in addition to the role checking, check the user id. This is the algorithm:\par
\u9679?\tab get the Principal from SessionContext and cast to UserProfilePrincipal\par
\u9679?\tab The member id is retrieved from UserProfilePrincipal using the related \tab\tab method to get the user id.\par
\u9679?\tab if the user id checking fails then throw the related authorization exception\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\i\f0\fs20 1.3.5\tab Arguments checking in the beans\f1\par
\pard\li765\i0\fs24 The arguments checking in all bean classes is not performed, it is performed only in the StudioServiceBean.  In this mode the user can set all the possible values in the beans.\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\i\f0\fs20 1.3.6\tab Save and retrieve the documents\f1\par
\pard\li765\i0\fs24 The contest is created using the ContestData entities, the mapping ContestData --> Contest is not direct.\par
This is the algorithm to save the document from ContestData:\par
\pard\fi-360\li1485\u9679?\f0\tab\f1 get the documentationUploads\par
\u9679?\f0\tab\f1 for uploadedDocument in documentationUploads:\par
\pard\fi-360\li1845\u9675?\f0\tab\f1 create the Document and fill the attributes with the attributes of uploadedDocument (except file)\par
\u9675?\f0\tab\f1 check if the document content exist in the contest manager using the method existDocumentContent (it will be added, see the forum)\par
\u9675?\f0\tab\f1 if it doesn't exist then\par
\pard\fi-360\li2205\u9632?\f0\tab\f1 save the document and the document content (the file attribute) using the saveDocument method in contest Manager\par
\pard\tab\par
\pard\li720 The get contest method related to get the documents is the mirror of the previous algorithm:\par
\pard\fi-360\li1440\u9679?\f0\tab\f1 for each document in contest.documents:\par
\pard\fi-360\li1800\u9675?\f0\tab\f1 create the UploadedDocument and fill its attributes with the document's attributes\par
\u9675?\f0\tab\f1 get the document content from contestManager passing the document id\par
\u9675?\tab fill the  UploadedDocument.file with the document content\par
\pard\li765\par
If some I/O errors occur in the algorithm then don't throw exceptions, simply log the exceptions. In the first case don't save the document and in the last case don't set the \i file\i0  attribute.\par
\f3\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\i\f0\fs20 1.3.5\tab ContestData <--> Contest mapping\f3\par
\pard\li765\i0\f1\fs24 The ContestData mapping to Contest is not direct. There are some attributes that need an explanation.\par
\f3\par
\trowd\trgaph10\trleft-30\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrt\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx4300\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrt\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl\b\f1 ContestData field\cell Contest field\cell\row\trowd\trgaph10\trleft-30\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx4300\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl\b0 contestCategoryId: use the id of contestCategory\cell contestCategory: Get the ContestCategory from contestManager using the id\cell\row\trowd\trgaph10\trleft-30\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx4300\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl durationInHours: use contest.endDate \f3\endash\f1  contest.startDate in hour. LaunchDateAndTime is the startDate\cell StartDate and endDate: the startDate is the launchDateAndTime, the endDate is launchDateTime+durationInHours\cell\row\trowd\trgaph10\trleft-30\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx4300\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl finalFileFormat: use the extension from Contest.ContestCategory.StudioFileType.extension\cell When create the ContestCategory and create the StufioFileType, set the extension\cell\row\trowd\trgaph10\trleft-30\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx4300\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl otherFileFormats: get the extensions from Contest.fileTypes\cell Create the StudioFileType and set the extensions\cell\row\trowd\trgaph10\trleft-30\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx4300\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl contestPayload: get the config entities config from Contest.config; create a new ContestPayload for each config and set the name,value and description\cell This attribute should be only retrieved\cell\row\trowd\trgaph10\trleft-30\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx4300\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl contestDescriptionAndRequirements:   get the \f3\ldblquote\f1 contestDescriptionAndRequirements\f3\rdblquote\f1  config from Contest.config; iterate over all names and get the description\cell Create the Config and add it to the Contest.config: set the name as the name of parameter (\f3\ldblquote\f1 contestDescriptionAndRequirements\f3\rdblquote\f1 ) and the value is the value of parameter\cell\row\trowd\trgaph10\trleft-30\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx4300\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl requiredOrRestrictedColors:   get the \f3\ldblquote\f1 requiredOrRestrictedColors\f3\rdblquote\f1  config from Contest.config; iterate over all names and get the description\cell Create the Config and add it to the Contest.config: set the name as the name of parameter (\f3\ldblquote\f1 requiredOrRestrictedColors\f3\rdblquote\f1 ) and the value is the value of parameter\cell\row\trowd\trgaph10\trleft-30\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx4300\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl requiredOrRestrictedFonts:   get the \f3\ldblquote\f1 requiredOrRestrictedFonts\f3\rdblquote\f1  config from Contest.config; iterate over all names and get the description\cell Create the Config and add it to the Contest.config: set the name as the name of parameter (\f3\ldblquote\f1 requiredOrRestrictedFonts\f3\rdblquote\f1 ) and the value is the value of parameter\cell\row\trowd\trgaph10\trleft-30\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx4300\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl sizeRequirements:   get the \f3\ldblquote\f1 sizeRequirements\f3\rdblquote\f1  config from Contest.config; iterate over all names and get the description\cell Create the Config and add it to the Contest.config: set the name as the name of parameter (\f3\ldblquote\f1 sizeRequirements\f3\rdblquote\f1 ) and the value is the value of parameter\cell\row\trowd\trgaph10\trleft-30\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx4300\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl otherRequirementsOrRestrictions:   get the \f3\ldblquote\f1 otherRequirementsOrRestrictions\f3\rdblquote\f1  config from Contest.config; iterate over all names and get the description\cell Create the Config and add it to the Contest.config: set the name as the name of parameter (\f3\ldblquote\f1 otherRequirementsOrRestrictions\f3\rdblquote\f1 ) and the value is the value of parameter\cell\row\trowd\trgaph10\trleft-30\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx4300\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl Prizes: retrieve the prizes from contestManager using the contestId (this method will be added also to contestManager, see the forum)\cell Persist the prizes for contest (the related method will be added also to contestManager, see the forum)\cell\row\pard\li765\f3\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\i\f0\fs20 1.3.6\tab SubmissionData <--> Submission mapping\f3\par
\pard\li765\i0\f1\fs24 The ContestData mapping to Contest is not direct. There are some attributes that need an explanation.\par
\trowd\trgaph10\trleft-20\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrt\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx4305\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrt\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl\b SubmissionData\cell Submission\cell\row\trowd\trgaph10\trleft-20\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx4305\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl\b0 placement\cell rank\cell\row\trowd\trgaph10\trleft-20\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx4305\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl paidFor\cell Get the submissionPayment from SubmissionManager and get the PaymentStatus from SubmissionPayment and check if the id is equal to the configured ids: paid or unpaid and set true or false respectively (if the id is not equal to all two values then set to false)\cell\row\trowd\trgaph10\trleft-20\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx4305\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl markedForPurchase\cell Get the submissionPayment from SubmissionManager a and get the PaymentStatus from SubmissionPayment  nd check if the id is equal to the configured id: if the id is not equal to the value then set to false otherwise to true\cell\row\trowd\trgaph10\trleft-20\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx4305\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl removed: return true (see the forum)\cell There is not this field\cell\row\pard\li765\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\b\f0\fs20 1.4\tab Component Class Overview\f1\par
\b0\i\f0 1.4.1\tab com.topcoder.studio.service\f1\par
\pard\li720\i0\fs24 This package holds all the main interfaces and classes in this component. \par
\par
\b ContestCategoryData\par
\b0 It is the DTO class which is used to transfer contest category data. The information can be null or can be empty, therefore this check is not present in the setters. It's the related to the equivalent ContestCategory entity.\par
Annotations: "@XmlAccessorType(XmlAccessType.FIELD)", "@XmlType(name ="contestCategoryData", propOrder = \{ "contestCategoryId", "contestName","contestDescription", "contestCategory" \})"\par
This class is not thread safe because it's highly mutable\par
\par
\par
\b ContestStatusData\par
\b0 It is the  DTO class which is used to transfer contest status data. The\par
information can be null or can be empty, therefore this check is not present in the\par
setters.  It's the related to the equivalent ContestStatus entity.\par
Annotations: "@XmlAccessorType(XmlAccessType.FIELD)", "@XmlType(name = "contestStatusData",propOrder = \{ "statusId", "name", "description", "allowableNextStatus","displayIcon"\})"\par
This class is not thread safe because it's highly mutable\par
\par
\par
\b SubmissionData\par
\b0 It is the DTO class which is used to transfer submission data. The information can be null or can be empty, therefore this check is not present in the setters.  It's the related to the equivalent Submission entity.\par
Annotations: "@XmlAccessorType(XmlAccessType.FIELD)", "@XmlType(name ="submissionData", propOrder = \{ "submissionId",\par
"submitterId","contestId","submittedDate","submissionContent","passedScreening","placement","paidFor","price","markedForPurchase","removed"\})"\par
This class is not thread safe because it's highly mutable\par
\par
\b ContestData\par
\b0 It is the DTO class which is used to transfer contest data. The information can be null or can be empty, therefore this check is not present in the setters.  It's the related to the equivalent Contest entity.\par
Annotations: "@XmlAccessorType(XmlAccessType.FIELD)", "@XmlType(name = "contestData", propOrder = \{ "contestId", "name", "projectId",\par
"tcDirectProjectId","prizes","launchDateAndTime","winnerAnnoucementDeadline","durationInHours","contestCategoryId","documentationUploads","contestPayloads","shortSummary","contestDescriptionAndRequirements","requiredOrRestrictedColors","requiredOrRestrictedFonts","sizeRequirements","sizeRequirements","otherRequirementsOrRestrictions","creatorUserId","finalFileFormat"\})"\par
This class is not thread safe because it's highly mutable\par
\par
\b PrizeData\par
\b0 It is the  DTO class which is used to transfer prize data. The\par
information can be null or can be empty, therefore this check is not present in the\par
setters. It is related with the Prize entity.\par
Annotations: "@XmlAccessorType(XmlAccessType.FIELD)", "@XmlType(name = "prizeData",propOrder = \{ "amount", "place"\})"\par
This class is not thread safe because it's highly mutable\par
\par
\b StudioService\par
\b0 This is service interface which defines operations available for client. It allows\par
providing different operations under contest and submission. It allows getting,\par
updating, and creating contest data; get, remove and update submission data; get some additional information like content\rquote s categories, statuses and file types.\par
This interface defines the webservices endpoint with the operation. It uses the\par
annotations to defined the requests and responses definitions.\par
It has the following annotations: "@WebService". All the other annotations (also in the methods) are optional: WebParam, WebMethod are not necessary because if WebMethod is not used then automatically all methods are WebMethod.\par
\par
\b ContestPayload\par
\b0 It is the DTO class which is used to transfer contest type configuration data. The\par
information can be null or can be empty, therefore this check is not present in the\par
setters. the ContestPayload is related with a configuration parameter (Config class).\par
It can only be retrieved. Annotations: "@XmlAccessorType(XmlAccessType.FIELD)", "@XmlType(name = "contestPayload", propOrder = \{ "name", "value", "description", "required"\})"\par
This class is not thread safe because it's highly mutable\par
\par
\b UploadedDocument\par
\b0 It is the DTO class which is used to transfer document and document content data. The information can be null or can be empty, therefore this check is not present in the setters.  It's the related to the equivalent Document entity.\par
Annotations: "@XmlAccessorType(XmlAccessType.FIELD)", "@XmlType(name = "uploadedDocument", propOrder = \{ "documentId",\par
"contestId","file","description","fileName","documentTypeId","mimeTypeId","path",\})"\par
This class is not thread safe because it's highly mutable\par
\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\i\f0\fs20 1.4.2\tab  com.topcoder.studio.service.ejb\f1\par
\pard\li720\i0\fs24\par
\b StudioServiceBean\par
\b0 This is service interface which defines operations available for client. It allows\par
providing different operations under contest and submission. It allows getting,\par
updating, and creating contest data; get, remove and update submission data; get some additional information like content\rquote s categories, statuses and file types.\par
This is the EJB implementation of the StudioService interface webservice endpoint. It uses an instance of ContestManager and an instance of SubmissionManager (injected as EJB) to perform the logic of the methods. The webservices annotations are presents in the endpoint interface, this bean contains only the annotation to connect the endpoint interface and this implementation. The security is provided programmatically and also with annotations. The exceptions are constructed using the fault bean because the fault message can be consumed as SOAP message, this is necessary because it's a webservices.\par
This implementations is designed to be used by the related interface and also by a\par
different webservices client: all the response, request and exceptions are\par
automatically transformed to SOAP element.\par
It has the following annotations:\par
"@WebService(endpointInterface="com.topcoder.service.studio.StudioService";\par
"@RunAs(Administrator)" it is necessary for the security identity;\par
"@DeclaresRoles(\{"User", "Administrator"\})": it's necessary to manage the roles in the code using sessionContext,isCallerRole method. "@Stateless"\par
Thread safety: this class is thread safe if the managers used are thread safe.\par
Considering that probably the managers beans will use the transactions, this stateless bean is thread safe\par
\par
\b IllegalArgumentWSFault\par
\b0 This class represents the "illegal_argument_fault" element in WSDL. It's\par
contained in the related exception-illegalArgumentMessage class. It was generated by JBoss tools and I changed the name and other little changes.\par
It has the following annotations:"XmlAccessorType(XmlAccessType.FIELD)", "XmlType(name = "", propOrder = \{ "illegalArgumentMessage" \})", "XmlRootElement(name = "illegal_argument_fault")"\par
This class is not thread safe because it's highly mutable\par
\par
\b UserNotAuthorizedFault\par
\b0 This class represents the "user_not_authorized_fault" element in WSDL. It's\par
contained in the related exception-message class. It was generated by JBoss tools and I changed the name and other little changes.\par
It has the following annotations:"XmlAccessorType(XmlAccessType.FIELD)", "XmlType(name = "", propOrder = \{ "userIdNotAuthorized" \})", "XmlRootElement(name = "user_not_authorized_fault")"\par
This class is not thread safe because it's highly mutable\par
\par
\b StatusNotFoundFault\par
\b0 This class represents the "status_not_found_fault" element in WSDL. It's\par
contained in the related exception-message class, it's the fault bean. It was generated by JBoss tools and I changed the name and other little changes.\par
It has the following annotations:"XmlAccessorType(XmlAccessType.FIELD)", "XmlType(name = "", propOrder = \{ "statusIdNotFound" \})", "XmlRootElement(name = "status_not_found_fault")"\par
This class is not thread safe because it's highly mutable\par
\par
\b StatusNotAllowedFault\par
\b0 This class represents the "status_not_allowed_fault" element in WSDL. It's\par
contained in the related exception-message class, it's the fault bean. It was generated by JBoss tools and I changed the name and other little changes.\par
It has the following annotations:"XmlAccessorType(XmlAccessType.FIELD)", "XmlType(name = "", propOrder = \{ "statusIdNotAllowed" \})", "XmlRootElement(name = "status_not_allowed_fault")"\par
This class is not thread safe because it's highly mutable\par
\par
\b ContestNotFoundFault\par
\b0 This class represents the "contest_not_found_fault" element in WSDL. It's\par
contained in the related exception-message class, it's the fault bean. It was generated by JBoss tools and I changed the name and other little changes.\par
It has the following annotations:"XmlAccessorType(XmlAccessType.FIELD)", "XmlType(name = "", propOrder = \{ "contestIdNotFound" \})", "XmlRootElement(name = "contest_not_found_fault")"\par
This class is not thread safe because it's highly mutable\par
\par
\b DocumentNotFoundFault\par
\b0 This class represents the "document_not_found_fault" element in WSDL. It's\par
contained in the related exception-message class, it's the fault bean. It was generated by JBoss tools and I changed the name and other little changes.\par
It has the following annotations:"XmlAccessorType(XmlAccessType.FIELD)", "XmlType(name =\par
"", propOrder = \{ "documentIdNotFound" \})", "XmlRootElement(name =\par
"document_not_found_fault")"\par
This class is not thread safe because it's highly mutable\par
\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\b\f0\fs20 1.5\tab Component Exception Definitions\f1\par
\pard\li720\b0\fs24\par
\b ContestNotFoundException\par
\pard\b0\par
\pard\li720 This exception is thrown automatically by the web service interface when a contest is not found. It is related with "contest_not_found_faultMsg" fault in WSDL, but it contains only annotations about "contest_not_found_fault" because the messages are automatically constructed. It was generated by JBoss tools and I changed the name, the inheritance and other changes.\par
The constructors with ContestNotFoundFault and the getter are necessary\par
for the correct webservices serialization/deserialization. The other constructors are added for the future implementations of the service interface.\par
It has the following annotations:"@WebFault(name = "contest_not_found_fault",  faultBean = " com.topcoder.service.studio.ejb.ContestNotFoundFault")"\par
\par
\b DocumentNotFoundException\par
\b0 This exception is thrown automatically by the web service interface when a document is not found. It is related with "document_not_found_faultMsg" fault in WSDL, but it contains only annotations about "document_not_found_fault" because the messages are automatically constructed. It was generated by JBoss tools and I changed the name, the inheritance and other changes.\par
The constructors with DocumentNotFoundFault and the getter are necessary\par
for the correct webservices serialization/deserialization. The other constructors are added for the future implementations of the service interface.\par
It has the following annotations:"@WebFault(name = "document_not_found_fault",  faultBean="com.topcoder.service.studio.ejb.DocumentNotFoundFault")"\par
\b\par
ProjectNotFoundException\par
\b0 This exception is thrown automatically by the web service interface when a project is not found. It is related with "project_not_found_faultMsg" fault in WSDL, but it contains only annotations about "project_not_found_fault" because the messages are automatically constructed. It was generated by JBoss tools and I changed the name, the inheritance and other changes.\par
The constructors with ProjectNotFoundFault and the getter are necessary\par
for the correct webservices serialization/deserialization. The other constructors are added for the future implementations of the service interface.\par
It has the following annotations:"@WebFault(name = "project_not_found_fault",  faultBean =\par
" com.topcoder.service.studio.ejb.ProjectNotFoundFault")"\par
\b\par
PersistenceException \par
\b0 This exception is thrown automatically by the web service interface when an error\par
occurs in the persistence layer. It wraps the generic persistence exceptions (not\par
specific thrown by the interface of this component) thrown by the DocumentManagerBean used in the ejb implementation. It is related with "persistence_faultMsg" fault in WSDL, but it contains only annotations about "persistence_fault" because the messages are automatically constructed. It was generated by JBoss tools and I changed the name, the inheritance and other changes.\par
The constructors with PersistenceFault and the getter are necessary for the correct\par
webservices serialization/deserialization. The other constructors are added for the\par
future implementations of the service interface.\par
It has the following annotations:"@WebFault(name = "persistence_fault", faultBean =\par
"com.topcoder.service.studio.ejb.PersistenceFault")"\par
\par
\b StatusNotAllowedException\par
\b0 This exception is thrown automatically by the web service interface when a status is not allowed. It is related with "status_not_allowed_faultMsg" fault in WSDL, but it contains only annotations about "status_not_allowed_fault" because the messages are automatically constructed. It was generated by JBoss tools and I changed the name, the inheritance and other changes.\par
The constructors with StatusNotAllowedFault and the getter are necessary\par
for the correct webservices serialization/deserialization. The other constructors are added for the future implementations of the service interface.\par
It has the following annotations:"@WebFault(name = "status_not_allowed_fault",  faultBean =" com.topcoder.service.studio.ejb.StatusNotAllowedFault")"\par
\par
\b StatusNotFoundException\par
\b0 This exception is thrown automatically by the web service interface when a status is not found. It is related with "status_not_found_faultMsg" fault in WSDL, but it\par
contains only annotations about "status_not_found_fault" because the messages\par
are automatically constructed. It was generated by JBoss tools and I changed the name, the inheritance and other changes.\par
The constructors with StatusNotFoundFault and the getter are necessary\par
for the correct webservices serialization/deserialization. The other constructors are added for the future implementations of the service interface.\par
It has the following annotations:"@WebFault(name = "status_not_found_fault",  faultBean =" com.topcoder.service.studio.ejb.StatusNotFoundFault")"\par
\par
\b StudioServiceException\par
\b0 This exception extends the BaseCriticalException. It is also the parent exception class for all the other custom exceptions in the Studio package.\par
\par
\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\b\f0\fs20 1.6\tab Thread Safety\f1\par
\pard\li720\b0\fs24 The thread safety is an important aspect since this component is a set of web services. The Java beans are not thread safe, but it's not required that they would be thread safe because they are used within a single thread. The StudioServiceBean is thread safe because it uses an instance of ContestManager and an instance of SubmissionManager (through the remote interfaces) and the implementations of these interfaces are required to be thread safe: the  implementations of these interfaces will be thread safe because it will use the transaction mechanism.\par
Therefore the component is completely thread safe.\par
\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx360\b\f0 2.\tab Environment Requirements\tab\tab\f1\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\f0\fs20 2.1\tab Environment\f1\par
\pard\fi-360\li1080\b0\f2\fs24\'b7\f0\tab\f1 Development language: Java 1.5\par
\f2\'b7\f0\tab\f1 Compile target: Java 1.5\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\b\f0\fs20 2.2\tab TopCoder Software Components\f1\par
\pard\fi-360\li1080\sa120\b0\fs24\'b7\tab Base Exception 2.0\par
\pard\fi-360\li1800\sa120 o\tab TopCoder standard for all custom exceptions.\par
\pard\fi-360\li1080\sa120\'b7\tab Logging Wrapper 2.0\par
\pard\fi-360\li1800\sa120 o\tab Used for logging the operations.\par
\pard\fi-360\li1080\sa120\'b7\tab Contest Manager 1.0 \par
\pard\fi-360\li1800\sa120 o\tab provides the contest manager and the contest entities\par
\pard\fi-360\li1080\sa120\'b7\tab Submission Manager 1.0 \par
\pard\fi-360\li1800\sa120\f0 o\tab provides the submission manager and the submission entities\f1\par
\pard\fi-360\li1080\sa120\'b7\tab JBoss Login Module 2.0\par
\pard\fi-360\li1800\sa120 o\tab defines the UserProfilePrincipal class used in this design\par
\pard\sa120\fs20\par
\pard\li720\i\fs24 NOTE: The default location for TopCoder Software component jars is../lib/tcs/COMPONENT_NAME/COMPONENT_VERSION relative to the component installation.\cf2   Setting the tcs_libdir property in topcoder_global.properties will overwrite this default location.\cf0\i0\par
\pard\li720\sa120\fs20\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\b\f0 2.3\tab Third Party Components\tab\f1\par
\pard\fi-360\li1440\b0\fs24\u9679?\tab J2EE 5\par
\u9679?\tab EJB 3.0\par
\u9679?\tab JAX-WS\par
\f3\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx360\b\f0 3.\tab Installation and Configuration\f3\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\f0\fs20 3.1\tab Package Names\f3\par
\pard\keepn\li720\sb120\sa60\sl240\slmult0\tx720\b0\f1\fs24 com.topcoder.studio.service\par
com.topcoder.studio.service.ejb\par
\pard\li720\f3\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\b\f0\fs20 3.2\tab Configuration Parameters\f3\par
\b0\i\f0 3.2.1\tab  StudioServiceBean\f3\par
\pard\li720\i0\f1\fs24 These parameters must be set in the configuration of the EJB (see the demo):\par
\par
\trowd\trgaph10\trleft-35\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrt\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx1947\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrt\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx5356\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrt\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl\cf2\b Parameter\cell Description\cell Details\cell\row\trowd\trgaph10\trleft-35\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx1947\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx5356\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl\sa120\cf0\b0\f0\fs20 logName\f1\cell\f0 Name of the log used to retrieve the Log with LogManager\f1\par
\f0 Optional, the logging is optional\f1\cell\f0 A valid log name, not null, not empty\f1\par
\cell\row\trowd\trgaph10\trleft-35\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx1947\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx5356\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl\sa120\f0 draftStatusId\f1\cell\f0 The id of draft contest status\f1\cell\f0 A valid id, long >=0\f1\cell\row\trowd\trgaph10\trleft-35\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx1947\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx5356\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl\sa120\f0 submissionPaidStatusId\f1\cell\f0 The id of status of submission paid\f1\cell\f0 A valid id, long >=0\f1\cell\row\trowd\trgaph10\trleft-35\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx1947\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx5356\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl\sa120\f0 submissionUnpaidStatusId\f1\cell\f0 The id of status of submission unpaid\f1\cell\f0 A valid id, long >=0\f1\cell\row\trowd\trgaph10\trleft-35\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx1947\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx5356\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl\sa120\f0 submissionMarkedForPurchase\f1\cell\f0 The id of status of submission marked for purchase\f1\cell\f0 A valid id, long >=0\f1\cell\row\trowd\trgaph10\trleft-35\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx1947\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx5356\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl\sa120\f0 submissionPassedStatus\f1\cell\f0 The id of status of submission that has passed the review.\f1\cell\f0 A valid id, long >=0\f1\cell\row\trowd\trgaph10\trleft-35\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx1947\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx5356\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl\sa120\f0 submissionContentBaseURI\f1\cell\f0 The base URI of submission content\f1\cell\f0 A valid URI\f1\cell\row\trowd\trgaph10\trleft-35\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx1947\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx5356\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl\sa120\f0 submissionContentSubmissionIdParameterName\f1\cell\f0 The parameter name of submission id parameter used in the submission content URI\f1\cell\f0 A string not empty\f1\cell\row\trowd\trgaph10\trleft-35\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx1947\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx5356\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl\sa120\f0 submissionContentSubmissionTypeParameterName\f1\cell\f0 The parameter name of submission type parameter used in the submission content URI\f1\cell\f0 A string not empty\f1\cell\row\trowd\trgaph10\trleft-35\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx1947\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx5356\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl\sa120\f0 submissionContentPaidParameterValue\f1\cell\f0 The value of paid type parameter.\f1\cell\f0 A string not empty\f1\cell\row\trowd\trgaph10\trleft-35\trpaddl10\trpaddr10\trpaddfl3\trpaddfr3
\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx1947\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx5356\clbrdrl\brdrw1\brdrs\brdrcf2\clbrdrr\brdrw1\brdrs\brdrcf2\clbrdrb\brdrw1\brdrs\brdrcf2 \cellx8630\pard\intbl\sa120\f0 submissionContentUnpaidParameterValue\f1\cell\f0 The value of unpaid type parameter.\f1\cell\f0 A string not empty\f1\cell\row\pard\fs24\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\b\f0\fs20 3.3\tab Dependencies Configuration\f1\par
\b0\i\f0 3.3.1\tab TopCoder dependencies\f1\par
\pard\li765\i0\fs24 All the dependencies are to be configured according to their component specifications.\par
\pard\li720\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx360\b\f0 4.\tab Usage Notes\f1\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\f0\fs20 4.1\tab Required steps to test the component\f1\par
\pard\fi-360\li1080\sa120\b0\f2\fs24\'b7\f0\tab\fs20 Extract the component distribution.\f1\fs24\par
\f2\'b7\f0\tab\fs20 Follow the instructions.\f1\fs24\par
\f2\'b7\f0\tab\fs20 Execute \lquote ant test\rquote  within the directory that the distribution was extracted to.\f1\fs24\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\b\f0\fs20 4.2\tab Required steps to use the component\f1\par
\pard\li720\b0\fs24 None\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\b\f0\fs20 4.3\tab Demo\f1\par
\b0\i\f0 4.3.1\tab Setup\f1\par
\pard\li720\i0\fs24\par
This is the ejb-jar.xml for the server side. It defines the EJBs in the container:\par
\f4\fs20\par
\pard\li710\cf3 <\cf4 ejb-jar \cf5 xmlns\cf2 =\cf6 "http://java.sun.com/xml/ns/javaee"\cf0\fs24\par
\cf6\fs20\tab\cf5 xmlns:xsi\cf2 =\cf6 "http://www.w3.org/2001/XMLSchema-instance"\cf0\fs24\par
\cf6\fs20\tab\cf5 xsi:schemaLocation\cf2 =\cf6 "http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/j2ee/ejb-jar_3_0.xsd"\cf0\fs24\par
\cf6\fs20\tab\cf5 version\cf2 =\cf6 "3.0"\cf3 >\cf0\fs24\par
\fs20\par
\cf2\tab\cf7 <!-- This is the EJB declaration. It's minimal because the component uses the annotations to declare\cf0\fs24\par
\cf7\fs20\tab\tab home and local interface -->\par
\cf2\tab\cf3 <\cf4 enterprise-beans\cf3 >\cf0\fs24\par
\fs20\par
\cf2\tab\tab\cf3 <\cf4 session\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\cf3 <\cf4 ejb-name\cf3 >\cf2 StudioServiceBean\cf3 </\cf4 ejb-name\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\cf3 <\cf4 ejb-class\cf3 >\cf2\tab\tab\tab\tab\tab\tab\tab\tab\tab com.topcoder.studio.ejb.StudioServiceBean\cf0\fs24\par
\cf2\fs20\tab\tab\tab\cf3 </\cf4 ejb-class\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\cf3 <\cf4 env-entry\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-name\cf3 >\cf2 loggerName\cf3 </\cf4 env-entry-\tab\tab\tab\tab\tab name\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-type\cf3 >\cf2 java.lang.String\cf3 </\cf4 env-\tab\tab\tab\tab\tab entry-type\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-value\cf3 >\cf2 studio_log\cf3 </\cf4 env-\tab\tab\tab\tab\tab entry-value\cf3 >\cf0\fs24\par
\cf3\fs20\tab\tab\tab <\cf4 env-entry\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-name\cf3 >\cf2 draftStatusId\cf3 </\cf4 env-entry-\tab\tab\tab\tab\tab name\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-type\cf3 >\cf2 java.lang.Long\cf3 </\cf4 env-\tab\tab\tab\tab\tab entry-type\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-value\cf3 >\cf2 2\cf3 </\cf4 env-\tab\tab\tab\tab\tab\tab entry-value\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\cf3 </\cf4 env-entry\cf3 >\cf0\fs24\par
\cf3\fs20\tab\tab\tab <\cf4 env-entry\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry> <env-entry-name\cf3 >\cf0\fs24\par
\cf3\fs20\tab\tab\tab\tab\tab\cf2 submissionPaidStatusId\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 </\cf4 env-entry-name\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-type\cf3 >\cf2 java.lang.Long\cf3 </\cf4 env-\tab\tab\tab\tab\tab entry-type\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-value\cf3 >\cf2 5\cf3 </\cf4 env-\tab\tab\tab\tab\tab\tab entry-value\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\cf3 </\cf4 env-entry\cf3 >\cf0\fs24\par
\cf3\fs20\tab\tab\tab <\cf4 env-entry\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry> <env-entry-name\cf3 >\cf0\fs24\par
\cf3\fs20\tab\tab\tab\tab\tab\cf2 submissionUnpaidStatusId\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 </\cf4 env-entry-name\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-type\cf3 >\cf2 java.lang.Long\cf3 </\cf4 env-\tab\tab\tab\tab\tab entry-type\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-value\cf3 >\cf2 8\cf3 </\cf4 env-\tab\tab\tab\tab\tab\tab entry-value\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\cf3 </\cf4 env-entry\cf3 >\cf0\fs24\par
\cf3\fs20\tab\tab\tab <\cf4 env-entry\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry> <env-entry-name\cf3 >\cf0\fs24\par
\cf3\fs20\tab\tab\tab\tab\tab\cf2 submissionMarkedForPurchaseStatusId\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 </\cf4 env-entry-name\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-type\cf3 >\cf2 java.lang.Long\cf3 </\cf4 env-\tab\tab\tab\tab\tab entry-type\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-value\cf3 >\cf2 9\cf3 </\cf4 env-\tab\tab\tab\tab\tab\tab entry-value\cf3 >\cf0\fs24\par
\cf3\fs20\tab\tab\tab <\cf4 env-entry\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry> <env-entry-name\cf3 >\cf0\fs24\par
\cf3\fs20\tab\tab\tab\tab\tab\cf2 submissionPassedStatus\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 </\cf4 env-entry-name\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-type\cf3 >\cf2 java.lang.Long\cf3 </\cf4 env-\tab\tab\tab\tab\tab entry-type\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-value\cf3 >\cf2 21\cf3 </\cf4 env-\tab\tab\tab\tab\tab\tab entry-value\cf3 >\cf0\fs24\par
\cf3\fs20\tab\tab\tab <\cf4 env-entry\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry> <env-entry-name\cf3 >\cf0\fs24\par
\cf3\fs20\tab\tab\tab\tab\tab\cf2 submissionContentBaseURI\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 </\cf4 env-entry-name\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-type\cf3 >\cf2 java.lang.String\cf3 </\cf4 env-\tab\tab\tab\tab\tab entry-type\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-value\cf3 >\cf0 http://studio.topcoder.com/?module=DownloadSubmission\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 </\cf4 env-entry-value\cf3 >\cf0\fs24\par
\cf3\fs20\tab\tab\tab <\cf4 env-entry\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry> <env-entry-name\cf3 >\cf0\fs24\par
\cf3\fs20\tab\tab\tab\tab\cf2 submissionContentSubmissionIdParameterName\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 </\cf4 env-entry-name\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-type\cf3 >\cf2 java.lang.String\cf3 </\cf4 env-\tab\tab\tab\tab\tab entry-type\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-value\cf3 >\cf2 sbmid\cf3 </\cf4 env-\tab\tab\tab\tab\tab\tab entry-value\cf3 >\cf0\fs24\par
\cf3\fs20\tab\tab\tab <\cf4 env-entry\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry> <env-entry-name\cf3 >\cf0\fs24\par
\cf3\fs20\tab\tab\tab\tab\tab\cf2 submissionContentSubmissionTypeParameterName\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 </\cf4 env-entry-name\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-type\cf3 >\cf2 java.lang.String\cf3 </\cf4 env-\tab\tab\tab\tab\tab entry-type\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-value\cf3 s>\cf2 sbt\cf3 </\cf4 env-\tab\tab\tab\tab\tab\tab entry-value\cf3 >\cf0\fs24\par
\cf3\fs20\tab\tab\tab <\cf4 env-entry\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry> <env-entry-name\cf3 >\cf0\fs24\par
\cf3\fs20\tab\tab\tab\tab\tab\cf2 submissionContentPaidParameterValue\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 </\cf4 env-entry-name\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-type\cf3 >\cf2 java.lang.String\cf3 </\cf4 env-\tab\tab\tab\tab\tab entry-type\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-value\cf3 >\cf2 full\cf3 </\cf4 env-\tab\tab\tab\tab\tab\tab entry-value\cf3 >\cf0\fs24\par
\cf3\fs20\tab\tab\tab <\cf4 env-entry\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry> <env-entry-name\cf3 >\cf0\fs24\par
\cf3\fs20\tab\tab\tab\tab\cf2 submissionContentUnpaidParameterValue\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 </\cf4 env-entry-name\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-type\cf3 >\cf2 java.lang.String\cf3 </\cf4 env-\tab\tab\tab\tab\tab entry-type\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\tab\tab\cf3 <\cf4 env-entry-value\cf3 >\cf2 tiny\cf3 </\cf4 env-\tab\tab\tab\tab\tab\tab entry-value\cf3 >\cf0\fs24\par
\cf2\fs20\tab\tab\cf3 </\cf4 session\cf3 >\cf0\fs24\par
\par
\cf7\fs20 <!-- Here will be defined the other stateless beans used: ContestMaanager bean and SubmissionManager bean\cf3\f0\fs24  -->\cf0\f4\par
\cf2\fs20\tab\cf3 </\cf4 enterprise-beans\cf3 >\cf0\fs24\par
\cf3\fs20 </\cf4 ejb-jar\cf3 >\cf0\fs24\par
\f5\fs20\par
\cf2\f1\fs24\par
\cf0 In the server side there is no need of other configuration: web service.xml and the JAX-RPC are not required because the annotations provide automatically these information.\par
About the deployment in JBoss, you can see here: \f0{\field{\*\fldinst{HYPERLINK "http://jbws.dyndns.org/mediawiki/index.php?title=Quick_Start" \\\\l "ng_web_services" }}{\fldrslt{\cf9\lang1040\ul\f1 http://jbws.dyndns.org/mediawiki/index.php?title=Quick_Start#Consuming_web_services}}}\cf0\lang1033\ulnone\f1\fs24\par
\par
\ldblquote  \f0  Simply wrap up the service implementation class, the endpoint interface and any custom data types in a JAR and drop them in the deploy directory. No additional deployment descriptors required. Any meta data required for the deployment of the actual web service is taken from the annotations provided on the implementation class and the service endpoint interface. JBossWS will intercept that EJB3 deployment (the bean will also be there) and create an HTTP endpoint at deploy-time: \f3\rdblquote\f1\par
\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx0\i\f0\fs20 4.3.2\tab   Usage\f1\par
\pard\li710\cf2\i0\fs24\par
\pard\fi-360\li720\f6\fs18         //Create the competition and set its values\par
        ContestData contestData = new ContestData();\par
        contestData.setContestId(20);\par
        contestData.setContestDescriptionAndRequirements("The requirements are...");\par
        contestData.setContestCategoryId(20);\par
        contestData.setCreatorUserId(30);\par
\par
        //Create the upload documentation\par
        List<UploadedDocument> documentationUpload = new ArrayList<UploadedDocument>();\par
        UploadedDocument document = new UploadedDocument();\par
        document.setContestId(20);\par
        document.setDescription("Design Studio Distribution for Kink DAO");\par
        document.setDocumentId(40);\par
        document.setFile("designDistribution".getBytes());\par
        documentationUpload.add(document);\par
\par
        //add the design distribution documentation to competition\par
        contestData.setDocumentationUploads(documentationUpload);\par
\par
        //launch the competition now\par
        // create the timestamp with the current date\par
        GregorianCalendar cal = new GregorianCalendar();\par
        // create the XMLGregorianCalendar\par
        XMLGregorianCalendar xmlCal = DatatypeFactory.newInstance().newXMLGregorianCalendar(cal);\par
        contestData.setLaunchDateAndTime(xmlCal);\par
        contestData.setName("Kink DAO studio design");\par
        contestData.setOtherRequirementsOrRestrictions("nothing");\par
\par
        //create the competition associated with a tc project\par
        studioService.createContest(contestData, 40);\par
        //now the competition is created and persisted\par
\par
        //Get this competition back\par
        contestData = studioService.getContest(20);\par
        //the competition is retrieved\par
        //You can get the previous values through the getters, the getters are the same as the setters\par
\par
        //get the previous competition which is related with the project with id=40\par
        List<ContestData> contestDatas = studioService.getContestsForProject(40);\par
        //the competition is retrieved (only 1 item)\par
\par
        //get the file types\par
        String fileTypes = studioService.getSubmissionFileTypes();\par
        //it now contains "pdf","rtf","jpg","png",etc... separated by commas\par
\par
        //remove the previous created document from the related competition\par
        studioService.removeDocumentFromContest(document);\par
        //the design distribution is removed now\f4\fs20       \par
\pard\li720\cf0\f0\fs24\par
\pard\keepn\sb120\sa60\sl240\slmult0\tx360\b 5.\tab Future Enhancements\b0\par
\pard\fi720\f1 Other methods can be added to the service.\par
}
 