<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="com.topcoder.utilities.cp.entities">
  <class name="MemberContributionPoints" table="member_contribution_points">
    <id name="id" column="member_contribution_points_id">
      <generator class="identity" />
    </id>
    <property name="userId" column="user_id"/>
    <property name="contestId" column="project_id"/>
    <property name="contributionPoints" column="contribution_points"/>
    <property name="contributionType" column="contribution_type"/>
  </class>
  <sql-query name="checkMCPContestId">
        <![CDATA[select count(*) from project p where p.project_id=:id]]>
   </sql-query>
   
  <query name="getByUserAndContest">
        <![CDATA[from MemberContributionPoints e where e.userId = :userId and e.contestId = :contestId]]>
   </query>
  <query name="getByUserId">
        <![CDATA[from MemberContributionPoints e where e.userId = :userId]]>
   </query>
  <sql-query name="getByProjectId">
        <return class="com.topcoder.utilities.cp.entities.MemberContributionPoints"/>
        <![CDATA[select m.member_contribution_points_id, m.user_id, m.project_id, m.contribution_points, m.contribution_type from member_contribution_points m, project p where m.project_id=p.project_id and p.tc_direct_project_id=:directProjectId]]>
   </sql-query>
  <query name="getByContestId">
        <![CDATA[from MemberContributionPoints e where e.contestId = :contestId]]>
   </query>
</hibernate-mapping>