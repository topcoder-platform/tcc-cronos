Setup
------------------------------------------------------
Database

1. install Informix and make sure the database is started.
2. create a database named 'document' in Informix.
3. use 'dbaccess project <path>/test_files/create.sql' to create database. it will create tables and sequences. Note, you can use 'dbaccess project <path>/test_files/drop.sql' to drop tables and sequences.
4. change the ip address and port in test_files/informix-ds.xml and test_files/InformixDBConnectionFactory.xml.

Here, database is ready.

Build the prerequsite document manager ejb module.

1. go to directory test_files/Prerequisite_Document_Manager_1.0_dev_dist.
2. run 'ant package.ejb', the ejb module will be present at test_files\Prerequisite_Document_Manager_1.0_dev_dist\build\dist\application\ejb
3. actually, you don't need to do this step, a already built version is put in lib directory.

JBoss

1. Download and install JBoss 4.2.2.
2. copy test_files\lib\ to <jboss-home>\server\default\lib
3. modify <jboss-home\server\default\conf\login-config.xml, adding

   <application-policy name="JBossLoginModule">
	    <authentication>
	      <login-module code="com.topcoder.security.auth.module.JBossLoginModule"
	        flag="required">
	        <module-option name="fileName">C:/demoConfigs.properties</module-option>
	        <module-option name="password-stacking">useFirstPass</module-option>
	      </login-module>
	    </authentication>
  </application-policy>
  
  
  Notes, fileName property should be point to test_files/demoConfigs.properties file.

4. change demoConfigs.properties, using the correct path for JBossLoginModule.xml.

Build.xml

1. there are some settings need to be adjusted according to your environment.
like
1.1 "configuration for checkstyles"
1.2 "codertura task definitation"
1.3 <property name="jboss_home" value="D:/Servers/AppServers/jboss-4.2.2.GA" />


Now, all the setup is ready. Let's start.

1. start Jboss 4.2.2
2. use 'ant deployEAR', to package ear file and deploy to jboss, a latest built is alredy saved as test_files/prerequisite_service.ear.
3. use 'ant test' to run the test cases.
4. 'ant undeployEAR' is used to delete the ear file in JBoss. and 'ant package.ejb' is used to package the ejb jar.

This is the most simplified process I can offer you:)

Other Notes
------------------------------------------------------------------------

1. About the coverage report, there are some issue with using codertura with jboss. So the coverage report is incorrect. I covered all the case for testing.
2. for testing by Web Service way, it can not achieved now, it seems the authentication does not works in WS way. see the discussion, http://forums.topcoder.com/?module=Thread&threadID=606374&start=0
but the functionality is tested using EJB, as actually, the web service end point is a stateless session bean.
3.please check http://localhost:8080/jbossws/services to see the exposed web service.
